{"version":3,"sources":["webpack:///../node_modules/@theia/scm/src/browser/scm-amend-component.tsx","webpack:///../node_modules/@theia/scm/src/browser/scm-widget.tsx","webpack:///../node_modules/@theia/scm/src/browser/style/scm-amend-component.css?85b0","webpack:///../node_modules/autosize/dist/autosize.js","webpack:///../node_modules/computed-style/dist/computedStyle.commonjs.js","webpack:///../node_modules/@theia/scm/src/browser/style/scm-amend-component.css","webpack:///../node_modules/line-height/lib/line-height.js","webpack:///../node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack:///../node_modules/react-autosize-textarea/lib/index.js"],"names":[],"mappings":"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AACxC,EAAE,MAAM,YAQN;AACF,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;;AAE/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,E;;;;;;;;;;;AC/RD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;;;;;;;;;;;AC1BA,2BAA2B,mBAAO,CAAC,6FAA2C;AAC9E;;;AAGA;AACA,cAAc,QAAS,02BAA02B,oBAAoB,6BAA6B,qEAAqE,kBAAkB,uBAAuB,GAAG,sCAAsC,oBAAoB,6BAA6B,kBAAkB,qBAAqB,GAAG,kCAAkC,oBAAoB,0BAA0B,uBAAuB,kBAAkB,GAAG,uCAAuC,oBAAoB,0BAA0B,uBAAuB,kBAAkB,uBAAuB,GAAG,2CAA2C,kBAAkB,GAAG,+BAA+B,oBAAoB,6BAA6B,0BAA0B,uBAAuB,8BAA8B,kBAAkB,GAAG,sCAAsC,wBAAwB,GAAG,uCAAuC,0BAA0B,uBAAuB,8BAA8B,GAAG,oCAAoC,0BAA0B,uBAAuB,8BAA8B,gDAAgD,yBAAyB,GAAG,sCAAsC,oBAAoB,0BAA0B,GAAG,oCAAoC,yBAAyB,kBAAkB,uBAAuB,sBAAsB,uBAAuB,qBAAqB,wBAAwB,oBAAoB,uBAAuB,GAAG;;AAE12E;;;;;;;;;;;;ACPA;AACA,oBAAoB,mBAAO,CAAC,qFAAgB;;AAE5C;AACA;AACA,WAAW,YAAY;AACvB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AChGa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,6CAAO;AAC3B,gBAAgB,mBAAO,CAAC,uDAAY;AACpC,eAAe,mBAAO,CAAC,2DAAU;AACjC,qBAAqB,mBAAO,CAAC,mEAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,mEAAmE,EAAE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,UAAU,wDAAwD,UAAU,uBAAuB,+BAA+B;AAC7L;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,iEAAiE,UAAU,gBAAgB;AAC3F,CAAC;;;;;;;;;;;;;ACpHY;AACb;AACA,yBAAyB,mBAAO,CAAC,2FAAoB;AACrD","file":"29.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2019 Arm and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport '../../src/browser/style/scm-amend-component.css';\n\nimport * as React from 'react';\nimport { ScmAvatarService } from './scm-avatar-service';\nimport { StorageService } from '@theia/core/lib/browser';\nimport { Disposable, DisposableCollection } from '@theia/core';\n\nimport { ScmRepository } from './scm-repository';\nimport { ScmAmendSupport, ScmCommit } from './scm-provider';\n\nexport interface ScmAmendComponentProps {\n    id: string,\n    style: React.CSSProperties | undefined,\n    repository: ScmRepository,\n    scmAmendSupport: ScmAmendSupport,\n    setCommitMessage: (message: string) => void,\n    avatarService: ScmAvatarService,\n    storageService: StorageService,\n}\n\ninterface ScmAmendComponentState {\n    /**\n     * This is used for transitioning.  When setting up a transition, we first set to render\n     * the elements in their starting positions.  This includes creating the elements to be\n     * transitioned in, even though those controls will not be visible when state is 'start'.\n     * On the next frame after 'start', we render elements with their final positions and with\n     * the transition properties.\n     */\n    transition: {\n        state: 'none'\n    } | {\n        state: 'start' | 'transitioning',\n        direction: 'up' | 'down',\n        previousLastCommit: { commit: ScmCommit, avatar: string }\n    };\n\n    amendingCommits: { commit: ScmCommit, avatar: string }[];\n    lastCommit: { commit: ScmCommit, avatar: string } | undefined;\n}\n\nconst TRANSITION_TIME_MS = 300;\nconst REPOSITORY_STORAGE_KEY = 'scmRepository';\n\nexport class ScmAmendComponent extends React.Component<ScmAmendComponentProps, ScmAmendComponentState> {\n\n    /**\n     * a hint on how to animate an update, set by certain user action handlers\n     * and used when updating the view based on a repository change\n     */\n    protected transitionHint: 'none' | 'amend' | 'unamend' = 'none';\n\n    protected lastCommitHeight: number = 0;\n    lastCommitScrollRef = (instance: HTMLDivElement) => {\n        if (instance && this.lastCommitHeight === 0) {\n            this.lastCommitHeight = instance.getBoundingClientRect().height;\n        }\n    };\n\n    constructor(props: ScmAmendComponentProps) {\n        super(props);\n\n        this.state = {\n            transition: { state: 'none' },\n            amendingCommits: [],\n            lastCommit: undefined\n        };\n\n        const setState = this.setState.bind(this);\n        this.setState = newState => {\n            if (!this.toDisposeOnUnmount.disposed) {\n                setState(newState);\n            }\n        };\n    }\n\n    protected readonly toDisposeOnUnmount = new DisposableCollection();\n\n    async componentDidMount(): Promise<void> {\n        this.toDisposeOnUnmount.push(Disposable.create(() => { /* mark as mounted */ }));\n\n        const lastCommit = await this.getLastCommit();\n        this.setState({ amendingCommits: await this.buildAmendingList(lastCommit ? lastCommit.commit : undefined), lastCommit });\n\n        if (this.toDisposeOnUnmount.disposed) {\n            return;\n        }\n        this.toDisposeOnUnmount.push(\n            this.props.repository.provider.onDidChange(() => this.fetchStatusAndSetState())\n        );\n    }\n\n    componentWillUnmount(): void {\n        this.toDisposeOnUnmount.dispose();\n    }\n\n    async fetchStatusAndSetState(): Promise<void> {\n        const storageKey = this.getStorageKey();\n\n        const nextCommit = await this.getLastCommit();\n        if (nextCommit && this.state.lastCommit && nextCommit.commit.id === this.state.lastCommit.commit.id) {\n            // No change here\n        } else if (nextCommit === undefined && this.state.lastCommit === undefined) {\n            // No change here\n        } else if (this.transitionHint === 'none') {\n            // If the 'last' commit changes, but we are not expecting an 'amend'\n            // or 'unamend' to occur, then we clear out the list of amended commits.\n            // This is because an unexpected change has happened to the repository,\n            // perhaps the user committed, merged, or something.  The amended commits\n            // will no longer be valid.\n\n            // Note that there may or may not have been a previous lastCommit (if the\n            // repository was previously empty with no initial commit then lastCommit\n            // will be undefined).  Either way we clear the amending commits.\n            await this.clearAmendingCommits();\n\n            // There is a change to the last commit, but no transition hint so\n            // the view just updates without transition.\n            this.setState({ amendingCommits: [], lastCommit: nextCommit });\n        } else {\n            const amendingCommits = this.state.amendingCommits.concat([]); // copy the array\n\n            const direction: 'up' | 'down' = this.transitionHint === 'amend' ? 'up' : 'down';\n            switch (this.transitionHint) {\n                case 'amend':\n                    if (this.state.lastCommit) {\n                        amendingCommits.push(this.state.lastCommit);\n\n                        const serializedState = JSON.stringify({\n                            amendingHeadCommitSha: amendingCommits[0].commit.id,\n                            latestCommitSha: nextCommit ? nextCommit.commit.id : undefined\n                        });\n                        this.props.storageService.setData<string | undefined>(storageKey, serializedState);\n                    }\n                    break;\n                case 'unamend':\n                    amendingCommits.pop();\n                    if (amendingCommits.length === 0) {\n                        this.props.storageService.setData<string | undefined>(storageKey, undefined);\n                    } else {\n                        const serializedState = JSON.stringify({\n                            amendingHeadCommitSha: amendingCommits[0].commit.id,\n                            latestCommitSha: nextCommit ? nextCommit.commit.id : undefined\n                        });\n                        this.props.storageService.setData<string | undefined>(storageKey, serializedState);\n                    }\n                    break;\n            }\n\n            if (this.state.lastCommit && nextCommit) {\n                const transitionData = { direction, previousLastCommit: this.state.lastCommit };\n                this.setState({ lastCommit: nextCommit, amendingCommits, transition: { ...transitionData, state: 'start' } });\n                this.onNextFrame(() => {\n                    this.setState({ transition: { ...transitionData, state: 'transitioning' } });\n                });\n\n                setTimeout(\n                    () => {\n                        this.setState({ transition: { state: 'none' } });\n                    },\n                    TRANSITION_TIME_MS);\n            } else {\n                // No previous last commit so no transition\n                this.setState({ transition: { state: 'none' }, amendingCommits, lastCommit: nextCommit });\n            }\n        }\n\n        this.transitionHint = 'none';\n    }\n\n    private async clearAmendingCommits(): Promise<void> {\n        const storageKey = this.getStorageKey();\n        await this.props.storageService.setData<string | undefined>(storageKey, undefined);\n    }\n\n    private async buildAmendingList(lastCommit: ScmCommit | undefined): Promise<{ commit: ScmCommit, avatar: string }[]> {\n        const storageKey = this.getStorageKey();\n        const storedState = await this.props.storageService.getData<string | undefined>(storageKey, undefined);\n\n        // Restore list of commits from saved amending head commit up through parents until the\n        // current commit.  (If we don't reach the current commit, the repository has been changed in such\n        // a way then unamending commits can no longer be done).\n        if (storedState) {\n            const { amendingHeadCommitSha, latestCommitSha } = JSON.parse(storedState);\n            if (!this.commitsAreEqual(lastCommit, latestCommitSha)) {\n                // The head commit in the repository has changed.  It is not the same commit that was the\n                // head commit after the last 'amend'.\n                return [];\n            }\n            const commits = await this.props.scmAmendSupport.getInitialAmendingCommits(amendingHeadCommitSha, lastCommit ? lastCommit.id : undefined);\n\n            const amendingCommitPromises = commits.map(async commit => {\n                const avatar = await this.props.avatarService.getAvatar(commit.authorEmail);\n                return { commit, avatar };\n            });\n            return Promise.all(amendingCommitPromises);\n        } else {\n            return [];\n        }\n    }\n\n    private getStorageKey(): string {\n        return REPOSITORY_STORAGE_KEY + ':' + this.props.repository.provider.rootUri;\n    }\n\n    /**\n     * Commits are equal if the ids are equal or if both are undefined.\n     * (If a commit is undefined, it represents the initial empty state of a repository,\n     * before the initial commit).\n     */\n    private commitsAreEqual(lastCommit: ScmCommit | undefined, savedLastCommitId: string | undefined): boolean {\n        return lastCommit\n            ? lastCommit.id === savedLastCommitId\n            : savedLastCommitId === undefined;\n    }\n\n    /**\n     * This function will update the 'model' (lastCommit, amendingCommits) only\n     * when the repository sees the last commit change.\n     * 'render' can be called at any time, so be sure we don't update any 'model'\n     * fields until we actually start the transition.\n     */\n    protected amend = async (): Promise<void> => {\n        if (this.state.transition.state !== 'none' && this.transitionHint !== 'none') {\n            return;\n        }\n\n        this.transitionHint = 'amend';\n        await this.resetAndSetMessage('HEAD~', 'HEAD');\n    };\n\n    protected unamend = async (): Promise<void> => {\n        if (this.state.transition.state !== 'none' && this.transitionHint !== 'none') {\n            return;\n        }\n\n        const commitToRestore = (this.state.amendingCommits.length >= 1)\n            ? this.state.amendingCommits[this.state.amendingCommits.length - 1]\n            : undefined;\n        const oldestAmendCommit = (this.state.amendingCommits.length >= 2)\n            ? this.state.amendingCommits[this.state.amendingCommits.length - 2]\n            : undefined;\n\n        if (commitToRestore) {\n            const commitToUseForMessage = oldestAmendCommit\n                ? oldestAmendCommit.commit.id\n                : undefined;\n            this.transitionHint = 'unamend';\n            await this.resetAndSetMessage(commitToRestore.commit.id, commitToUseForMessage);\n        }\n    };\n\n    private async resetAndSetMessage(commitToRestore: string, commitToUseForMessage: string | undefined): Promise<void> {\n        const message = commitToUseForMessage\n            ? await this.props.scmAmendSupport.getMessage(commitToUseForMessage)\n            : '';\n        await this.props.scmAmendSupport.reset(commitToRestore);\n        this.props.setCommitMessage(message);\n    }\n\n    render(): JSX.Element {\n        const neverShrink = this.state.amendingCommits.length <= 3;\n\n        const style: React.CSSProperties = neverShrink\n            ? {\n                ...this.props.style,\n                flexShrink: 0,\n            }\n            : {\n                ...this.props.style,\n                flexShrink: 1,\n                minHeight: 240   // height with three commits\n            };\n\n        return (\n            <div className={ScmAmendComponent.Styles.COMMIT_CONTAINER + ' no-select'} style={style} id={this.props.id}>\n                {\n                    this.state.amendingCommits.length > 0 || (this.state.lastCommit && this.state.transition.state !== 'none' && this.state.transition.direction === 'down')\n                        ? this.renderAmendingCommits()\n                        : ''\n                }\n                {\n                    this.state.lastCommit ?\n                        <div>\n                            <div id='lastCommit' className='changesContainer'>\n                                <div className='theia-header scm-theia-header'>\n                                    HEAD Commit\n                                </div>\n                                {this.renderLastCommit()}\n                            </div>\n                        </div>\n                        : ''\n                }\n            </div>\n        );\n    }\n\n    protected async getLastCommit(): Promise<{ commit: ScmCommit, avatar: string } | undefined> {\n        const commit = await this.props.scmAmendSupport.getLastCommit();\n        if (commit) {\n            const avatar = await this.props.avatarService.getAvatar(commit.authorEmail);\n            return { commit, avatar };\n        }\n        return undefined;\n    }\n\n    protected renderAmendingCommits(): React.ReactNode {\n        const neverShrink = this.state.amendingCommits.length <= 3;\n\n        const style: React.CSSProperties = neverShrink\n            ? {\n                flexShrink: 0,\n            }\n            : {\n                flexShrink: 1,\n                // parent minHeight controls height, we just need any value smaller than\n                // what the height would be when the parent is at its minHeight\n                minHeight: 0\n            };\n\n        return <div id='amendedCommits' className='theia-scm-amend-outer-container' style={style}>\n            <div className='theia-header scm-theia-header'>\n                <div className='noWrapInfo'>Commits being Amended</div>\n                {this.renderAmendCommitListButtons()}\n                {this.renderCommitCount(this.state.amendingCommits.length)}\n            </div>\n            <div style={this.styleAmendedCommits()}>\n                {this.state.amendingCommits.map((commitData, index, array) =>\n                    this.renderCommitBeingAmended(commitData, index === array.length - 1)\n                )}\n                {\n                    this.state.lastCommit && this.state.transition.state !== 'none' && this.state.transition.direction === 'down'\n                        ? this.renderCommitBeingAmended(this.state.lastCommit, false)\n                        : ''\n                }\n            </div>\n        </div>;\n    }\n\n    protected renderAmendCommitListButtons(): React.ReactNode {\n        return <div className='theia-scm-inline-actions-container'>\n            <div className='theia-scm-inline-actions'>\n                <div className='theia-scm-inline-action'>\n                    <a className='fa fa-minus' title='Unamend All Commits' onClick={this.unamendAll} />\n                </div>\n                <div className='theia-scm-inline-action' >\n                    <a className='fa fa-times' title='Clear Amending Commits' onClick={this.clearAmending} />\n                </div>\n            </div>\n        </div>;\n    }\n\n    protected renderLastCommit(): React.ReactNode {\n        if (!this.state.lastCommit) {\n            return '';\n        }\n\n        const canAmend: boolean = true;\n        return <div className={ScmAmendComponent.Styles.COMMIT_AND_BUTTON} style={{ flexGrow: 0, flexShrink: 0 }} key={this.state.lastCommit.commit.id}>\n            {this.renderLastCommitNoButton(this.state.lastCommit)}\n            {\n                canAmend\n                    ? <div className={ScmAmendComponent.Styles.FLEX_CENTER}>\n                        <button className='theia-button' title='Amend last commit' onClick={this.amend}>\n                            Amend\n                        </button>\n                    </div>\n                    : ''\n            }\n        </div>;\n    }\n\n    protected renderLastCommitNoButton(lastCommit: { commit: ScmCommit, avatar: string }): React.ReactNode {\n        switch (this.state.transition.state) {\n            case 'none':\n                return <div ref={this.lastCommitScrollRef} className='theia-scm-scrolling-container'>\n                    {this.renderCommitAvatarAndDetail(lastCommit)}\n                </div>;\n\n            case 'start':\n            case 'transitioning':\n                switch (this.state.transition.direction) {\n                    case 'up':\n                        return <div style={this.styleLastCommitMovingUp(this.state.transition.state)}>\n                            {this.renderCommitAvatarAndDetail(this.state.transition.previousLastCommit)}\n                            {this.renderCommitAvatarAndDetail(lastCommit)}\n                        </div>;\n                    case 'down':\n                        return <div style={this.styleLastCommitMovingDown(this.state.transition.state)}>\n                            {this.renderCommitAvatarAndDetail(lastCommit)}\n                            {this.renderCommitAvatarAndDetail(this.state.transition.previousLastCommit)}\n                        </div>;\n                }\n        }\n    }\n\n    /**\n     * See https://stackoverflow.com/questions/26556436/react-after-render-code\n     *\n     * @param callback\n     */\n    protected onNextFrame(callback: FrameRequestCallback): void {\n        setTimeout(\n            () => window.requestAnimationFrame(callback),\n            0);\n    }\n\n    protected renderCommitAvatarAndDetail(commitData: { commit: ScmCommit, avatar: string }): React.ReactNode {\n        const { commit, avatar } = commitData;\n        return <div className={ScmAmendComponent.Styles.COMMIT_AVATAR_AND_TEXT} key={commit.id}>\n            <div className={ScmAmendComponent.Styles.COMMIT_MESSAGE_AVATAR}>\n                <img src={avatar} />\n            </div>\n            <div className={ScmAmendComponent.Styles.COMMIT_DETAILS}>\n                <div className={ScmAmendComponent.Styles.COMMIT_MESSAGE_SUMMARY}>{commit.summary}</div>\n                <div className={ScmAmendComponent.Styles.LAST_COMMIT_MESSAGE_TIME}>{`${commit.authorDateRelative} by ${commit.authorName}`}</div>\n            </div>\n        </div>;\n    }\n\n    protected renderCommitCount(commits: number): React.ReactNode {\n        return <div className='notification-count-container scm-change-count'>\n            <span className='notification-count'>{commits}</span>\n        </div>;\n    }\n\n    protected renderCommitBeingAmended(commitData: { commit: ScmCommit, avatar: string }, isOldestAmendCommit: boolean): JSX.Element {\n        if (isOldestAmendCommit && this.state.transition.state !== 'none' && this.state.transition.direction === 'up') {\n            return <div className={ScmAmendComponent.Styles.COMMIT_AVATAR_AND_TEXT} style={{ flexGrow: 0, flexShrink: 0 }} key={commitData.commit.id}>\n                <div className='fixed-height-commit-container'>\n                    {this.renderCommitAvatarAndDetail(commitData)}\n                </div>\n            </div>;\n        } else {\n            return <div className={ScmAmendComponent.Styles.COMMIT_AVATAR_AND_TEXT} style={{ flexGrow: 0, flexShrink: 0 }} key={commitData.commit.id}>\n                {this.renderCommitAvatarAndDetail(commitData)}\n                {\n                    isOldestAmendCommit\n                        ? <div className={ScmAmendComponent.Styles.FLEX_CENTER}>\n                            <button className='theia-button' title='Unamend commit' onClick={this.unamend}>\n                                Unamend\n                            </button>\n                        </div>\n                        : ''\n                }\n            </div>;\n        }\n    }\n\n    /*\n     * The style for the <div> containing the list of commits being amended.\n     * This div is scrollable.\n     */\n    protected styleAmendedCommits(): React.CSSProperties {\n        const base = {\n            display: 'flex',\n            whitespace: 'nowrap',\n            width: '100%',\n            minHeight: 0,\n            flexShrink: 1,\n            paddingTop: '2px',\n        };\n\n        switch (this.state.transition.state) {\n            case 'none':\n                return {\n                    ...base,\n                    flexDirection: 'column',\n                    overflowY: 'auto',\n                    marginBottom: '0',\n                };\n            case 'start':\n            case 'transitioning':\n                let startingMargin: number = 0;\n                let endingMargin: number = 0;\n                switch (this.state.transition.direction) {\n                    case 'down':\n                        startingMargin = 0;\n                        endingMargin = -32;\n                        break;\n                    case 'up':\n                        startingMargin = -32;\n                        endingMargin = 0;\n                        break;\n                }\n\n                switch (this.state.transition.state) {\n                    case 'start':\n                        return {\n                            ...base,\n                            flexDirection: 'column',\n                            overflowY: 'hidden',\n                            marginBottom: `${startingMargin}px`,\n                        };\n                    case 'transitioning':\n                        return {\n                            ...base,\n                            flexDirection: 'column',\n                            overflowY: 'hidden',\n                            marginBottom: `${endingMargin}px`,\n                            transitionProperty: 'margin-bottom',\n                            transitionDuration: `${TRANSITION_TIME_MS}ms`,\n                            transitionTimingFunction: 'linear'\n                        };\n                }\n        }\n\n        throw new Error('Invalid value for transition state: ' + this.state.transition.state);\n    }\n\n    protected styleLastCommitMovingUp(transitionState: 'start' | 'transitioning'): React.CSSProperties {\n        return this.styleLastCommit(transitionState, 0, -28);\n    }\n\n    protected styleLastCommitMovingDown(transitionState: 'start' | 'transitioning'): React.CSSProperties {\n        return this.styleLastCommit(transitionState, -28, 0);\n    }\n\n    protected styleLastCommit(transitionState: 'start' | 'transitioning', startingMarginTop: number, startingMarginBottom: number): React.CSSProperties {\n        const base = {\n            display: 'flex',\n            width: '100%',\n            overflow: 'hidden',\n            paddingTop: 0,\n            paddingBottom: 0,\n            borderTop: 0,\n            borderBottom: 0,\n            height: this.lastCommitHeight * 2\n        };\n\n        // We end with top and bottom margins switched\n        const endingMarginTop = startingMarginBottom;\n        const endingMarginBottom = startingMarginTop;\n\n        switch (transitionState) {\n            case 'start':\n                return {\n                    ...base,\n                    position: 'relative',\n                    flexDirection: 'column',\n                    marginTop: startingMarginTop,\n                    marginBottom: startingMarginBottom,\n                };\n            case 'transitioning':\n                return {\n                    ...base,\n                    position: 'relative',\n                    flexDirection: 'column',\n                    marginTop: endingMarginTop,\n                    marginBottom: endingMarginBottom,\n                    transitionProperty: 'margin-top margin-bottom',\n                    transitionDuration: `${TRANSITION_TIME_MS}ms`,\n                    transitionTimingFunction: 'linear'\n                };\n        }\n    }\n\n    readonly unamendAll = () => this.doUnamendAll();\n    protected async doUnamendAll(): Promise<void> {\n        while (this.state.amendingCommits.length > 0) {\n            this.unamend();\n            await new Promise(resolve => setTimeout(resolve, TRANSITION_TIME_MS));\n        }\n    }\n\n    readonly clearAmending = () => this.doClearAmending();\n    protected async doClearAmending(): Promise<void> {\n        await this.clearAmendingCommits();\n        this.setState({ amendingCommits: [] });\n    }\n}\n\nexport namespace ScmAmendComponent {\n\n    export namespace Styles {\n        export const COMMIT_CONTAINER = 'theia-scm-commit-container';\n        export const COMMIT_AND_BUTTON = 'theia-scm-commit-and-button';\n        export const COMMIT_AVATAR_AND_TEXT = 'theia-scm-commit-avatar-and-text';\n        export const COMMIT_DETAILS = 'theia-scm-commit-details';\n        export const COMMIT_MESSAGE_AVATAR = 'theia-scm-commit-message-avatar';\n        export const COMMIT_MESSAGE_SUMMARY = 'theia-scm-commit-message-summary';\n        export const LAST_COMMIT_MESSAGE_TIME = 'theia-scm-commit-message-time';\n\n        export const FLEX_CENTER = 'theia-scm-flex-container-center';\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable no-null/no-null, @typescript-eslint/no-explicit-any */\n\nimport * as React from 'react';\nimport TextareaAutosize from 'react-autosize-textarea';\nimport { Message } from '@phosphor/messaging';\nimport { ElementExt } from '@phosphor/domutils';\nimport { injectable, inject, postConstruct } from 'inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { MenuModelRegistry, ActionMenuNode, CompositeMenuNode, MenuPath } from '@theia/core/lib/common/menu';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport {\n    ContextMenuRenderer, SELECTED_CLASS, StorageService,\n    ReactWidget, Key, LabelProvider, DiffUris, KeybindingRegistry, Widget, StatefulWidget, CorePreferences\n} from '@theia/core/lib/browser';\nimport { AlertMessage } from '@theia/core/lib/browser/widgets/alert-message';\nimport { EditorManager, DiffNavigatorProvider, EditorWidget } from '@theia/editor/lib/browser';\nimport { ScmAvatarService } from './scm-avatar-service';\nimport { ScmAmendComponent } from './scm-amend-component';\nimport { ScmContextKeyService } from './scm-context-key-service';\nimport { ScmService } from './scm-service';\nimport { ScmInput } from './scm-input';\nimport { ScmRepository } from './scm-repository';\nimport { ScmResource, ScmResourceGroup } from './scm-provider';\n\n@injectable()\nexport class ScmWidget extends ReactWidget implements StatefulWidget {\n\n    static ID = 'scm-view';\n\n    static RESOURCE_GROUP_CONTEXT_MENU = ['RESOURCE_GROUP_CONTEXT_MENU'];\n    static RESOURCE_GROUP_INLINE_MENU = ['RESOURCE_GROUP_INLINE_MENU'];\n\n    static RESOURCE_INLINE_MENU = ['RESOURCE_INLINE_MENU'];\n    static RESOURCE_CONTEXT_MENU = ['RESOURCE_CONTEXT_MENU'];\n\n    @inject(CorePreferences) protected readonly corePreferences: CorePreferences;\n    @inject(ScmService) protected readonly scmService: ScmService;\n    @inject(CommandRegistry) protected readonly commands: CommandRegistry;\n    @inject(KeybindingRegistry) protected readonly keybindings: KeybindingRegistry;\n    @inject(MenuModelRegistry) protected readonly menus: MenuModelRegistry;\n    @inject(ScmContextKeyService) protected readonly contextKeys: ScmContextKeyService;\n    @inject(ContextMenuRenderer) protected readonly contextMenuRenderer: ContextMenuRenderer;\n    @inject(ScmAvatarService) protected readonly avatarService: ScmAvatarService;\n    @inject(StorageService) protected readonly storageService: StorageService;\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(EditorManager) protected readonly editorManager: EditorManager;\n    @inject(DiffNavigatorProvider) protected readonly diffNavigatorProvider: DiffNavigatorProvider;\n\n    // TODO: a hack to install DOM listeners, replace it with React, i.e. use TreeWidget instead\n    protected _scrollContainer: string;\n    protected set scrollContainer(id: string) {\n        this._scrollContainer = id + Date.now();\n    }\n    protected get scrollContainer(): string {\n        return this._scrollContainer;\n    }\n\n    /** don't modify DOM use React! only exposed for `focusInput` */\n    protected readonly inputRef = React.createRef<HTMLTextAreaElement>();\n\n    constructor() {\n        super();\n        this.node.tabIndex = 0;\n        this.id = ScmWidget.ID;\n        this.addClass('theia-scm');\n        this.scrollContainer = ScmWidget.Styles.GROUPS_CONTAINER;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.refresh();\n        this.toDispose.push(this.scmService.onDidChangeSelectedRepository(() => this.refresh()));\n        this.toDispose.push(this.labelProvider.onDidChange(e => {\n            const repository = this.scmService.selectedRepository;\n            if (repository && repository.resources.some(resource => e.affects(resource.sourceUri))) {\n                this.update();\n            }\n        }));\n    }\n\n    protected readonly toDisposeOnRefresh = new DisposableCollection();\n    protected refresh(): void {\n        this.toDisposeOnRefresh.dispose();\n        this.toDispose.push(this.toDisposeOnRefresh);\n        const repository = this.scmService.selectedRepository;\n        this.title.label = repository ? repository.provider.label : 'no repository found';\n        this.title.caption = this.title.label;\n        this.update();\n        if (repository) {\n            this.toDisposeOnRefresh.push(repository.onDidChange(() => this.update()));\n            // render synchronously to avoid cursor jumping\n            // see https://stackoverflow.com/questions/28922275/in-reactjs-why-does-setstate-behave-differently-when-called-synchronously/28922465#28922465\n            this.toDisposeOnRefresh.push(repository.input.onDidChange(() => this.updateImmediately()));\n            this.toDisposeOnRefresh.push(repository.input.onDidFocus(() => this.focusInput()));\n        }\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        (this.inputRef.current || this.node).focus();\n    }\n\n    protected onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.update();\n    }\n\n    protected updateImmediately(): void {\n        this.onUpdateRequest(Widget.Msg.UpdateRequest);\n    }\n\n    protected onUpdateRequest(msg: Message): void {\n        if (!this.isAttached || !this.isVisible) {\n            return;\n        }\n        this.onRender.push(Disposable.create(() => async () => {\n            const selected = this.node.getElementsByClassName(SELECTED_CLASS)[0];\n            if (selected) {\n                ElementExt.scrollIntoViewIfNeeded(this.node, selected);\n            }\n        }));\n        super.onUpdateRequest(msg);\n    }\n\n    protected addScmListKeyListeners = (id: string) => {\n        const container = document.getElementById(id);\n        if (container) {\n            this.addScmListNavigationKeyListeners(container);\n        }\n    };\n\n    protected render(): React.ReactNode {\n        const repository = this.scmService.selectedRepository;\n        if (!repository) {\n            return <AlertMessage\n                type='WARNING'\n                header='No repository found'\n            />;\n        }\n        const input = repository.input;\n        const amendSupport = repository.provider.amendSupport;\n\n        return <div className={ScmWidget.Styles.MAIN_CONTAINER}>\n            <div className='headerContainer' style={{ flexGrow: 0 }}>\n                {this.renderInput(input, repository)}\n            </div>\n            <ScmResourceGroupsContainer\n                style={{ flexGrow: 1 }}\n                id={this.scrollContainer}\n                repository={repository}\n                commands={this.commands}\n                menus={this.menus}\n                contextKeys={this.contextKeys}\n                labelProvider={this.labelProvider}\n                addScmListKeyListeners={this.addScmListKeyListeners}\n                contextMenuRenderer={this.contextMenuRenderer}\n                corePreferences={this.corePreferences}\n            />\n            {amendSupport && <ScmAmendComponent\n                key={`amend:${repository.provider.rootUri}`}\n                style={{ flexGrow: 0 }}\n                id={this.scrollContainer}\n                repository={repository}\n                scmAmendSupport={amendSupport}\n                setCommitMessage={this.setInputValue}\n                avatarService={this.avatarService}\n                storageService={this.storageService}\n            />}\n        </div>;\n    }\n\n    protected renderInput(input: ScmInput, repository: ScmRepository): React.ReactNode {\n        const validationStatus = input.issue ? input.issue.type : 'idle';\n        const validationMessage = input.issue ? input.issue.message : '';\n        const format = (value: string, ...args: string[]): string => {\n            if (args.length !== 0) {\n                return value.replace(/{(\\d+)}/g, (found, n) => {\n                    const i = parseInt(n);\n                    return isNaN(i) || i < 0 || i >= args.length ? found : args[i];\n                });\n            }\n            return value;\n        };\n\n        const keybinding = this.keybindings.acceleratorFor(this.keybindings.getKeybindingsForCommand('scm.acceptInput')[0]).join('+');\n        const message = format(input.placeholder || '', keybinding);\n        return <div className={ScmWidget.Styles.INPUT_MESSAGE_CONTAINER}>\n            <TextareaAutosize\n                className={`${ScmWidget.Styles.INPUT_MESSAGE} theia-input theia-scm-input-message-${validationStatus}`}\n                id={ScmWidget.Styles.INPUT_MESSAGE}\n                placeholder={message}\n                autoFocus={true}\n                tabIndex={1}\n                value={input.value}\n                onChange={this.setInputValue}\n                ref={this.inputRef}\n                rows={1}\n                maxRows={6} /* from VS Code */>\n            </TextareaAutosize>\n            <div\n                className={\n                    `${ScmWidget.Styles.VALIDATION_MESSAGE} ${ScmWidget.Styles.NO_SELECT}\n                    theia-scm-validation-message-${validationStatus} theia-scm-input-message-${validationStatus}`\n                }\n                style={{\n                    display: !!input.issue ? 'block' : 'none'\n                }}>{validationMessage}</div>\n        </div>;\n    }\n\n    protected focusInput(): void {\n        if (this.inputRef.current) {\n            this.inputRef.current.focus();\n        }\n    }\n\n    protected setInputValue = (event: React.FormEvent<HTMLTextAreaElement> | React.ChangeEvent<HTMLTextAreaElement> | string) => {\n        const repository = this.scmService.selectedRepository;\n        if (repository) {\n            repository.input.value = typeof event === 'string' ? event : event.currentTarget.value;\n        }\n    };\n\n    protected acceptInput = () => this.commands.executeCommand('scm.acceptInput');\n\n    protected addScmListNavigationKeyListeners(container: HTMLElement): void {\n        this.addKeyListener(container, Key.ARROW_LEFT, () => this.openPreviousChange());\n        this.addKeyListener(container, Key.ARROW_RIGHT, () => this.openNextChange());\n        this.addKeyListener(container, Key.ARROW_UP, () => this.selectPreviousResource());\n        this.addKeyListener(container, Key.ARROW_DOWN, () => this.selectNextResource());\n        this.addKeyListener(container, Key.ENTER, () => this.openSelected());\n    }\n\n    protected async openPreviousChange(): Promise<void> {\n        const repository = this.scmService.selectedRepository;\n        if (!repository) {\n            return;\n        }\n        const selected = repository.selectedResource;\n        if (selected) {\n            const widget = await this.openResource(selected);\n            if (widget) {\n                const diffNavigator = this.diffNavigatorProvider(widget.editor);\n                if (diffNavigator.canNavigate() && diffNavigator.hasPrevious()) {\n                    diffNavigator.previous();\n                } else {\n                    const previous = repository.selectPreviousResource();\n                    if (previous) {\n                        previous.open();\n                    }\n                }\n            } else {\n                const previous = repository.selectPreviousResource();\n                if (previous) {\n                    previous.open();\n                }\n            }\n        }\n    }\n\n    protected async openNextChange(): Promise<void> {\n        const repository = this.scmService.selectedRepository;\n        if (!repository) {\n            return;\n        }\n        const selected = repository.selectedResource;\n        if (selected) {\n            const widget = await this.openResource(selected);\n            if (widget) {\n                const diffNavigator = this.diffNavigatorProvider(widget.editor);\n                if (diffNavigator.canNavigate() && diffNavigator.hasNext()) {\n                    diffNavigator.next();\n                } else {\n                    const next = repository.selectNextResource();\n                    if (next) {\n                        next.open();\n                    }\n                }\n            } else {\n                const next = repository.selectNextResource();\n                if (next) {\n                    next.open();\n                }\n            }\n        } else if (repository && repository.resources.length) {\n            repository.selectedResource = repository.resources[0];\n            repository.selectedResource.open();\n        }\n    }\n\n    protected async openResource(resource: ScmResource): Promise<EditorWidget | undefined> {\n        try {\n            await resource.open();\n        } catch (e) {\n            console.error('Failed to open a SCM resource', e);\n            return undefined;\n        }\n\n        let standaloneEditor: EditorWidget | undefined;\n        const resourcePath = resource.sourceUri.path.toString();\n        for (const widget of this.editorManager.all) {\n            const resourceUri = widget.getResourceUri();\n            const editorResourcePath = resourceUri && resourceUri.path.toString();\n            if (resourcePath === editorResourcePath) {\n                if (widget.editor.uri.scheme === DiffUris.DIFF_SCHEME) {\n                    // prefer diff editor\n                    return widget;\n                } else {\n                    standaloneEditor = widget;\n                }\n            }\n            if (widget.editor.uri.scheme === DiffUris.DIFF_SCHEME\n                && String(widget.getResourceUri()) === resource.sourceUri.toString()) {\n                return widget;\n            }\n        }\n        // fallback to standalone editor\n        return standaloneEditor;\n    }\n\n    protected selectPreviousResource(): ScmResource | undefined {\n        const repository = this.scmService.selectedRepository;\n        return repository && repository.selectPreviousResource();\n    }\n\n    protected selectNextResource(): ScmResource | undefined {\n        const repository = this.scmService.selectedRepository;\n        return repository && repository.selectNextResource();\n    }\n\n    protected openSelected(): void {\n        const repository = this.scmService.selectedRepository;\n        const resource = repository && repository.selectedResource;\n        if (resource) {\n            resource.open();\n        }\n    }\n\n    storeState(): any {\n        const repository = this.scmService.selectedRepository;\n        return repository && repository.input;\n    }\n\n    restoreState(oldState: any): void {\n        const repository = this.scmService.selectedRepository;\n        if (repository) {\n            repository.input.fromJSON(oldState);\n        }\n    }\n\n}\n\nexport namespace ScmWidget {\n\n    export namespace Styles {\n        export const MAIN_CONTAINER = 'theia-scm-main-container';\n        export const PROVIDER_CONTAINER = 'theia-scm-provider-container';\n        export const PROVIDER_NAME = 'theia-scm-provider-name';\n        export const GROUPS_CONTAINER = 'groups-outer-container';\n        export const INPUT_MESSAGE_CONTAINER = 'theia-scm-input-message-container';\n        export const INPUT_MESSAGE = 'theia-scm-input-message';\n        export const VALIDATION_MESSAGE = 'theia-scm-input-validation-message';\n        export const NO_SELECT = 'no-select';\n    }\n    export interface Props {\n        repository: ScmRepository;\n        commands: CommandRegistry;\n        menus: MenuModelRegistry;\n        contextKeys: ScmContextKeyService;\n        labelProvider: LabelProvider;\n        contextMenuRenderer: ContextMenuRenderer;\n        corePreferences?: CorePreferences;\n    }\n\n}\n\nexport abstract class ScmElement<P extends ScmElement.Props = ScmElement.Props> extends React.Component<P, ScmElement.State> {\n\n    constructor(props: P) {\n        super(props);\n        this.state = {\n            hover: false\n        };\n\n        const setState = this.setState.bind(this);\n        this.setState = newState => {\n            if (!this.toDisposeOnUnmount.disposed) {\n                setState(newState);\n            }\n        };\n    }\n\n    protected readonly toDisposeOnUnmount = new DisposableCollection();\n    componentDidMount(): void {\n        this.toDisposeOnUnmount.push(Disposable.create(() => { /* mark as mounted */ }));\n    }\n    componentWillUnmount(): void {\n        this.toDisposeOnUnmount.dispose();\n    }\n\n    protected detectHover = (element: HTMLElement | null) => {\n        if (element) {\n            window.requestAnimationFrame(() => {\n                const hover = element.matches(':hover');\n                this.setState({ hover });\n            });\n        }\n    };\n    protected showHover = () => this.setState({ hover: true });\n    protected hideHover = () => this.setState({ hover: false });\n\n    protected renderContextMenu = (event: React.MouseEvent<HTMLElement>) => {\n        event.preventDefault();\n        const { group, contextKeys, contextMenuRenderer } = this.props;\n        const currentScmResourceGroup = contextKeys.scmResourceGroup.get();\n        contextKeys.scmResourceGroup.set(group.id);\n        try {\n            contextMenuRenderer.render({\n                menuPath: this.contextMenuPath,\n                anchor: event.nativeEvent,\n                args: this.contextMenuArgs\n            });\n        } finally {\n            contextKeys.scmResourceGroup.set(currentScmResourceGroup);\n        }\n    };\n\n    protected abstract get contextMenuPath(): MenuPath;\n    protected abstract get contextMenuArgs(): any[];\n\n}\nexport namespace ScmElement {\n    export interface Props extends ScmWidget.Props {\n        group: ScmResourceGroup\n    }\n    export interface State {\n        hover: boolean\n    }\n}\n\nexport class ScmResourceComponent extends ScmElement<ScmResourceComponent.Props> {\n\n    render(): JSX.Element | undefined {\n        const { hover } = this.state;\n        const { name, repository, resource, labelProvider, commands, menus, contextKeys } = this.props;\n        const rootUri = resource.group.provider.rootUri;\n        if (!rootUri) {\n            return undefined;\n        }\n        const decorations = resource.decorations;\n        const icon = labelProvider.getIcon(resource.sourceUri);\n        const color = decorations && decorations.color || '';\n        const letter = decorations && decorations.letter || '';\n        const tooltip = decorations && decorations.tooltip || '';\n        const relativePath = new URI(rootUri).relative(resource.sourceUri.parent);\n        const path = relativePath ? relativePath.toString() : labelProvider.getLongName(resource.sourceUri.parent);\n        return <div key={String(resource.sourceUri)}\n            className={`scmItem ${ScmWidget.Styles.NO_SELECT}${repository.selectedResource === resource ? ' ' + SELECTED_CLASS : ''}`}\n            onContextMenu={this.renderContextMenu}\n            onMouseEnter={this.showHover}\n            onMouseLeave={this.hideHover}\n            ref={this.detectHover}\n            onClick={this.handleClick}\n            onDoubleClick={this.handleDoubleClick} >\n            <span className={icon + ' file-icon'} />\n            <div className='noWrapInfo' >\n                <span className='name'>{name}</span>\n                <span className='path'>{path}</span>\n            </div>\n            <ScmInlineActions {...{\n                hover,\n                menu: menus.getMenu(ScmWidget.RESOURCE_INLINE_MENU),\n                args: this.contextMenuArgs,\n                commands,\n                contextKeys,\n                group: resource.group\n            }}>\n                <div title={tooltip} className='status' style={{ color }}>\n                    {letter}\n                </div>\n            </ScmInlineActions>\n        </div >;\n    }\n\n    protected open = () => this.props.resource.open();\n\n    protected selectChange = () => this.props.repository.selectedResource = this.props.resource;\n\n    protected readonly contextMenuPath = ScmWidget.RESOURCE_CONTEXT_MENU;\n    protected get contextMenuArgs(): any[] {\n        return [this.props.resource];  // TODO support multiselection\n    }\n\n    /**\n     * Handle the single clicking of nodes present in the widget.\n     */\n    protected handleClick = () => {\n        // Determine the behavior based on the preference value.\n        const isSingle = this.props.corePreferences && this.props.corePreferences['workbench.list.openMode'] === 'singleClick';\n        this.selectChange();\n        if (isSingle) {\n            this.open();\n        }\n    };\n\n    /**\n     * Handle the double clicking of nodes present in the widget.\n     */\n    protected handleDoubleClick = () => {\n        // Determine the behavior based on the preference value.\n        const isDouble = this.props.corePreferences && this.props.corePreferences['workbench.list.openMode'] === 'doubleClick';\n        // Nodes should only be opened through double clicking if the correct preference is set.\n        if (isDouble) {\n            this.open();\n        }\n    };\n}\nexport namespace ScmResourceComponent {\n    export interface Props extends ScmElement.Props {\n        name: string;\n        resource: ScmResource;\n    }\n}\n\nexport class ScmResourceGroupsContainer extends React.Component<ScmResourceGroupsContainer.Props> {\n    render(): JSX.Element {\n        const { groups } = this.props.repository.provider;\n        return <div className={ScmWidget.Styles.GROUPS_CONTAINER + ' ' + ScmWidget.Styles.NO_SELECT}\n            style={this.props.style}\n            id={this.props.id}\n            tabIndex={2}\n            onFocus={this.select}>\n            {groups && this.props.repository.provider.groups.map(group => this.renderGroup(group))}\n        </div>;\n    }\n\n    protected select = () => {\n        const selectedResource = this.props.repository.selectedResource;\n        if (!selectedResource && this.props.repository.resources.length) {\n            this.props.repository.selectedResource = this.props.repository.resources[0];\n        }\n    };\n\n    protected renderGroup(group: ScmResourceGroup): React.ReactNode {\n        const visible = !!group.resources.length || !group.hideWhenEmpty;\n        return visible && <ScmResourceGroupContainer\n            key={group.id}\n            repository={this.props.repository}\n            group={group}\n            contextMenuRenderer={this.props.contextMenuRenderer}\n            commands={this.props.commands}\n            menus={this.props.menus}\n            contextKeys={this.props.contextKeys}\n            labelProvider={this.props.labelProvider}\n            corePreferences={this.props.corePreferences} />;\n    }\n\n    componentDidMount(): void {\n        this.props.addScmListKeyListeners(this.props.id);\n    }\n}\nexport namespace ScmResourceGroupsContainer {\n    export interface Props extends ScmWidget.Props {\n        id: string;\n        style?: React.CSSProperties;\n        addScmListKeyListeners: (id: string) => void\n    }\n}\n\nexport class ScmResourceGroupContainer extends ScmElement {\n\n    render(): JSX.Element {\n        const { hover } = this.state;\n        const { group, menus, commands, contextKeys } = this.props;\n        return <div className='changesContainer'>\n            <div className='theia-header scm-theia-header'\n                onContextMenu={this.renderContextMenu}\n                onMouseEnter={this.showHover}\n                onMouseLeave={this.hideHover}\n                ref={this.detectHover}>\n                <div className='noWrapInfo'>{group.label}</div>\n                <ScmInlineActions {...{\n                    hover,\n                    args: this.contextMenuArgs,\n                    menu: menus.getMenu(ScmWidget.RESOURCE_GROUP_INLINE_MENU),\n                    commands,\n                    contextKeys,\n                    group\n                }}>\n                    {this.renderChangeCount()}\n                </ScmInlineActions>\n            </div>\n            <div>{group.resources.map(resource => this.renderScmResourceItem(resource))}</div>\n        </div>;\n    }\n\n    protected renderChangeCount(): React.ReactNode {\n        return <div className='notification-count-container scm-change-count'>\n            <span className='notification-count'>{this.props.group.resources.length}</span>\n        </div>;\n    }\n\n    protected renderScmResourceItem(resource: ScmResource): React.ReactNode {\n        const name = this.props.labelProvider.getName(resource.sourceUri);\n        return <ScmResourceComponent\n            key={String(resource.sourceUri)}\n            {...{\n                ...this.props,\n                name,\n                resource\n            }}\n        />;\n    }\n\n    protected readonly contextMenuPath = ScmWidget.RESOURCE_GROUP_CONTEXT_MENU;\n    protected get contextMenuArgs(): any[] {\n        return [this.props.group];\n    }\n}\n\nexport class ScmInlineActions extends React.Component<ScmInlineActions.Props> {\n    render(): React.ReactNode {\n        const { hover, menu, args, commands, group, contextKeys, children } = this.props;\n        return <div className='theia-scm-inline-actions-container'>\n            <div className='theia-scm-inline-actions'>\n                {hover && menu.children.map((node, index) => node instanceof ActionMenuNode && <ScmInlineAction key={index} {...{ node, args, commands, group, contextKeys }} />)}\n            </div>\n            {children}\n        </div>;\n    }\n}\nexport namespace ScmInlineActions {\n    export interface Props {\n        hover: boolean;\n        menu: CompositeMenuNode;\n        commands: CommandRegistry;\n        group: ScmResourceGroup;\n        contextKeys: ScmContextKeyService;\n        args: any[];\n        children?: React.ReactNode;\n    }\n}\n\nexport class ScmInlineAction extends React.Component<ScmInlineAction.Props> {\n    render(): React.ReactNode {\n        const { node, args, commands, group, contextKeys } = this.props;\n        const currentScmResourceGroup = contextKeys.scmResourceGroup.get();\n        contextKeys.scmResourceGroup.set(group.id);\n        try {\n            if (!commands.isVisible(node.action.commandId, ...args) || !contextKeys.match(node.action.when)) {\n                return false;\n            }\n            return <div className='theia-scm-inline-action'>\n                <a className={node.icon} title={node.label} onClick={this.execute} />\n            </div>;\n        } finally {\n            contextKeys.scmResourceGroup.set(currentScmResourceGroup);\n        }\n    }\n\n    protected execute = (event: React.MouseEvent) => {\n        event.stopPropagation();\n\n        const { commands, node, args } = this.props;\n        commands.executeCommand(node.action.commandId, ...args);\n    };\n}\nexport namespace ScmInlineAction {\n    export interface Props {\n        node: ActionMenuNode;\n        commands: CommandRegistry;\n        group: ScmResourceGroup;\n        contextKeys: ScmContextKeyService;\n        args: any[];\n    }\n}\n","\nvar content = require(\"!!../../../../../css-loader/index.js!./scm-amend-component.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/index.js!./scm-amend-component.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/index.js!./scm-amend-component.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","exports = module.exports = require(\"../../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (C) 2018 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-scm-commit-container {\\n    display: flex;\\n    flex-direction: column;\\n    border-top: 1px solid var(--theia-sideBarSectionHeader-border);\\n    width: 100%;\\n    padding-top: 6px;\\n}\\n\\n.theia-scm-amend-outer-container {\\n    display: flex;\\n    flex-direction: column;\\n    width: 100%;\\n    overflow: auto;\\n}\\n\\n.theia-scm-commit-and-button {\\n    display: flex;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    width: 100%;\\n}\\n\\n.theia-scm-commit-avatar-and-text {\\n    display: flex;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    width: 100%;\\n    padding-top: 2px;\\n}\\n\\n.theia-scm-commit-avatar-and-text img {\\n    width: 27px;\\n}\\n\\n.theia-scm-commit-details {\\n    display: flex;\\n    flex-direction: column;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    width: 100%;\\n}\\n\\n.theia-scm-commit-message-avatar {\\n    margin-right: 5px;\\n}\\n\\n.theia-scm-commit-message-summary {\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n}\\n\\n.theia-scm-commit-message-time {\\n    white-space: nowrap;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    color: var(--theia-descriptionForeground);\\n    font-size: smaller;\\n}\\n\\n.theia-scm-flex-container-center {\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.theia-scm-scrolling-container {\\n    position: relative;\\n    width: 100%;\\n    overflow: hidden;\\n\\n    margin-top: 0;\\n    margin-bottom: 0;\\n    padding-top: 0;\\n    padding-bottom: 0;\\n    border-top: 0;\\n    border-bottom: 0;\\n}\\n\", \"\"]);\n\n// exports\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar RESIZED = \"autosize:resized\";\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosizeClass = /** @class */ (function (_super) {\n    __extends(TextareaAutosizeClass, _super);\n    function TextareaAutosizeClass() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.textarea = _this.props.innerRef || React.createRef();\n        _this.onResize = function (e) {\n            if (_this.props.onResize) {\n                _this.props.onResize(e);\n            }\n        };\n        _this.updateLineHeight = function () {\n            if (_this.textarea.current) {\n                _this.setState({\n                    lineHeight: getLineHeight(_this.textarea.current)\n                });\n            }\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        return _this;\n    }\n    TextareaAutosizeClass.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, maxRows = _a.maxRows, async = _a.async;\n        if (typeof maxRows === \"number\") {\n            this.updateLineHeight();\n        }\n        if (typeof maxRows === \"number\" || async) {\n            /*\n              the defer is needed to:\n                - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n                - support StyledComponents (see #71)\n            */\n            setTimeout(function () { return _this.textarea.current && autosize(_this.textarea.current); });\n        }\n        else {\n            this.textarea.current && autosize(this.textarea.current);\n        }\n        if (this.textarea.current) {\n            this.textarea.current.addEventListener(RESIZED, this.onResize);\n        }\n    };\n    TextareaAutosizeClass.prototype.componentWillUnmount = function () {\n        if (this.textarea.current) {\n            this.textarea.current.removeEventListener(RESIZED, this.onResize);\n            autosize.destroy(this.textarea.current);\n        }\n    };\n    TextareaAutosizeClass.prototype.render = function () {\n        var _a = this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, children = _b.children, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\", \"children\"]), lineHeight = _a.state.lineHeight;\n        var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n        return (React.createElement(\"textarea\", __assign({}, props, { onChange: this.onChange, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, ref: this.textarea }), children));\n    };\n    TextareaAutosizeClass.prototype.componentDidUpdate = function () {\n        this.textarea.current && autosize.update(this.textarea.current);\n    };\n    TextareaAutosizeClass.defaultProps = {\n        rows: 1,\n        async: false\n    };\n    TextareaAutosizeClass.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.object,\n        async: PropTypes.bool\n    };\n    return TextareaAutosizeClass;\n}(React.Component));\nexports.TextareaAutosize = React.forwardRef(function (props, ref) {\n    return React.createElement(TextareaAutosizeClass, __assign({}, props, { innerRef: ref }));\n});\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1.TextareaAutosize;\n"],"sourceRoot":""}