{"version":3,"sources":["webpack:///../node_modules/@theia/monaco/src/browser/textmate/index.ts","webpack:///../node_modules/sprotty-theia/css/theia-sprotty.css","webpack:///../node_modules/sprotty/css/sprotty.css","webpack:///../node_modules/sprotty-theia/css/theia-sprotty.css?70fa","webpack:///../node_modules/sprotty-theia/src/index.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/code-action-palette.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/completion-label-edit.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/delete.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/edit-diagram-locker.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/index.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/ls-theia-diagram-server.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/ls-theia-sprotty-connector.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/rename-label-edit.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/traceable.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/languageserver/workspace-edit-command.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/theia-key-tool.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/theia-sprotty-context-menu-service.ts","webpack:///../node_modules/sprotty-theia/src/sprotty/theia-sprotty-selection-forwarder.ts","webpack:///../node_modules/sprotty-theia/src/theia/languageserver/diagram-language-client-contribution.ts","webpack:///../node_modules/sprotty-theia/src/theia/languageserver/diagram-language-client.ts","webpack:///../node_modules/sprotty-theia/src/theia/languageserver/index.ts","webpack:///../node_modules/sprotty-theia/src/theia/languageserver/ls-diagram-contributions.ts","webpack:///../node_modules/sprotty-theia/src/theia/languageserver/ls-diagram-module.ts","webpack:///../node_modules/sprotty/css/sprotty.css?1c0f"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;;;;kFAckF;;;;;AAElF,oIAAoC;AACpC,4IAAwC;AACxC,gJAA0C;AAC1C,oKAAoD;;;;;;;;;;;;ACnBpD,2BAA2B,mBAAO,CAAC,oFAAkC;AACrE;;;AAGA;AACA,cAAc,QAAS,41BAA41B,oBAAoB,kBAAkB,GAAG,kBAAkB,kBAAkB,cAAc,0BAA0B,wBAAwB,GAAG,wBAAwB,sBAAsB,oBAAoB,GAAG,qBAAqB,yBAAyB,eAAe,iBAAiB,oBAAoB,0BAA0B,GAAG,4BAA4B,wDAAwD,4BAA4B,4CAA4C,8BAA8B,qDAAqD,2BAA2B,mDAAmD,oBAAoB,yDAAyD,0CAA0C,GAAG,sBAAsB,2DAA2D,mDAAmD,GAAG,mBAAmB,qCAAqC,yDAAyD,GAAG,0BAA0B,wBAAwB,GAAG,uBAAuB,yBAAyB,GAAG,6BAA6B,yBAAyB,yBAAyB,GAAG,mCAAmC,0BAA0B,yBAAyB,GAAG,mDAAmD,0BAA0B,GAAG,oBAAoB,yBAAyB,0BAA0B,iBAAiB,yBAAyB,mBAAmB,yBAAyB,yBAAyB,iBAAiB,mBAAmB,GAAG,sBAAsB,uBAAuB,yBAAyB,GAAG,wBAAwB,qBAAqB,wBAAwB,GAAG,6CAA6C,aAAa,oCAAoC,mBAAmB,oBAAoB,GAAG,+DAA+D,oBAAoB,GAAG,sDAAsD,2CAA2C,GAAG,uDAAuD,kDAAkD,sBAAsB,GAAG,4CAA4C,wBAAwB,GAAG;;AAErlG;;;;;;;;;;;;ACPA,2BAA2B,mBAAO,CAAC,oFAAkC;AACrE;;;AAGA;AACA,cAAc,QAAS,41BAA41B,mBAAmB,oEAAoE,GAAG,qBAAqB,qBAAqB,yBAAyB,iBAAiB,kBAAkB,GAAG,oBAAoB,oEAAoE,yBAAyB,wBAAwB,yBAAyB,wBAAwB,uBAAuB,uBAAuB,GAAG,0BAA0B,mBAAmB,GAAG,2BAA2B,oBAAoB,GAAG;;AAEn4C;;;;;;;;;;;;;ACNA,cAAc,mBAAO,CAAC,sIAAiD;;AAEvE,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,0FAAsC;;AAE3D;;AAEA,GAAG,KAAU,EAAE,E;;;;;;;;;;;;;ACnBf;;;;;;;;;;;;;;kFAckF;;;;;AAElF,yIAA+C;AAC/C,iIAA2C;AAC3C,6HAAyC;AAEzC,mKAA4D;AAC5D,qKAA6D;AAC7D,yIAA+C;AAE/C,6HAAyC;AACzC,uIAA8C;AAC9C,iIAA2C;AAC3C,2HAAwC;AACxC,yHAAuC;AACvC,yHAAuC;AACvC,qIAA6C;;;;;;;;;;;;;;AC9B7C;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAElF,iIAAsG;AACtG,qGAA+C;AAC/C,2FAEsC;AAEtC,4KAAyE;AACzE,kIAAuC;AACvC,yKAA+D;AAC/D,gKAA0D;AAG1D;IAAA;IAmBA,CAAC;IAfS,2CAAc,GAApB,UAAqB,KAAY,EAAE,cAAsB;;;;;4BAC/B,qBAAM,IAAI,CAAC,qBAAqB,EAAE;;wBAAlD,aAAa,GAAG,SAAkC;wBAClD,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC;wBACnB,qBAAM,SAAS,CAAC,iBAAiB,EAAE;;wBAApD,cAAc,GAAG,SAAmC;wBAC1D,sBAAO,cAAc,CAAC,WAAW,CAAC,2BAAiB,CAAC,IAAI,EAAoB;gCACxE,YAAY,EAAE;oCACV,GAAG,EAAE,aAAa,CAAC,SAAS;iCAC/B;gCACD,KAAK;gCACL,OAAO,EAAE;oCACL,WAAW,EAAE,EAAE;oCACf,IAAI,EAAE,CAAC,cAAc,CAAC;iCACzB;6BACJ,CAAC,EAAC;;;;KACN;IAhBqC;QAArC,kBAAM,CAAC,sDAA4B,CAAC;;qEAAqD;IAFjF,kBAAkB;QAD9B,sBAAU,EAAE;OACA,kBAAkB,CAmB9B;IAAD,yBAAC;CAAA;AAnBY,gDAAkB;AAqB/B;;GAEG;AAEH;IAAA;IAgCA,CAAC;IA3BS,sDAAa,GAAnB,UAAoB,MAA+B,EAAE,WAA6B;;;;;;wBACxE,KAAK,GAAG,oBAAQ,CAAC,WAAW,CAAC,CAAC;6BAChC,KAAI,CAAC,iBAAiB,CAAC,SAAS,IAAI,KAAK,KAAK,SAAS,GAAvD,wBAAuD;wBACnC,qBAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,KAAK,EAAE,gBAAgB,CAAC;;wBAAnF,WAAW,GAAG,SAAqE;wBACzF,IAAI,WAAW,EAAE;4BACP,YAAiC,EAAE,CAAC;4BAC1C,WAAW,CAAC,OAAO,CAAC,oBAAU;gCAC1B,IAAI,oBAAU,CAAC,EAAE,CAAC,UAAU,CAAC,EAAE;oCAC3B,SAAO,CAAC,IAAI,CAAsB;wCAC9B,EAAE,EAAE,UAAU,CAAC,KAAK;wCACpB,IAAI,EAAE,eAAe;wCACrB,cAAc,EAAE,UAAU,CAAC,IAAI;wCAC/B,KAAK;qCACR,CAAC,CAAC;iCACN;4BACL,CAAC,CAAC,CAAC;4BACH,sBAAuB;oCACnB,EAAE,EAAE,SAAS;oCACb,IAAI,EAAE,SAAS;oCACf,OAAO,EAAE,CAAC,iBAAiB,CAAC;oCAC5B,QAAQ,EAAE,SAAO;oCACjB,YAAY,EAAE,MAAM,CAAC,MAAM;iCAC9B,EAAC;yBACL;;4BAEL,sBAAO,SAAS,EAAC;;;;KACpB;IA7B2B;QAA3B,kBAAM,CAAC,kBAAkB,CAAC;kCAAqB,kBAAkB;8EAAC;IACxC;QAA1B,kBAAM,CAAC,uCAAiB,CAAC;kCAAoB,uCAAiB;6EAAC;IAHvD,8BAA8B;QAD1C,sBAAU,EAAE;OACA,8BAA8B,CAgC1C;IAAD,qCAAC;CAAA;AAhCY,wEAA8B;AAuC3C;IAAmC,iCAAO;IAA1C;;IAGA,CAAC;IAAD,oBAAC;AAAD,CAAC,CAHkC,iBAAO,GAGzC;AAHY,sCAAa;AAM1B;IAA0C,wCAAuB;IAAjE;;IA0BA,CAAC;IArBG,wCAAS,GAAT,UAAU,MAAqB,EAAE,KAAiB;QAC9C,IAAI,MAAM,YAAY,aAAa,EAAE;YACjC,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC,CAAC;SAChD;QACD,OAAO,EAAE,CAAC;IACd,CAAC;IAEK,qDAAsB,GAA5B,UAA6B,MAAqB;;;;;4BACxB,qBAAM,IAAI,CAAC,qBAAqB,EAAE;;wBAAlD,aAAa,GAAG,SAAkC;wBAClD,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC,SAAS,CAAC;6BAChD,SAAS,EAAT,wBAAS;wBACW,qBAAM,IAAI,CAAC,kBAAkB,CAAC,cAAc,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,cAAc,CAAC;;wBAA/F,WAAW,GAAG,SAAiF;wBACrG,IAAI,WAAW,EAAE;4BACb,WAAoC,EAAX,2BAAW,EAAX,yBAAW,EAAX,IAAW,EAAE;gCAA3B,UAAU;gCACjB,IAAI,oBAAU,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC,IAAI;oCAC5C,sBAAO,IAAI,4CAAmB,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC;6BACvD;yBACJ;;4BAEL,sBAAO,IAAI,6BAAmB,CAAC,oBAAU,CAAC,EAAC;;;;KAC9C;IAvB2B;QAA3B,kBAAM,CAAC,kBAAkB,CAAC;kCAAqB,kBAAkB;oEAAC;IAC7B;QAArC,kBAAM,CAAC,sDAA4B,CAAC;;uEAAqD;IAHjF,oBAAoB;QADhC,sBAAU,EAAE;OACA,oBAAoB,CA0BhC;IAAD,2BAAC;CAAA,CA1ByC,iCAAuB,GA0BhE;AA1BY,oDAAoB;;;;;;;;;;;;;;AClGjC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGlF,qGAA+C;AAC/C,4KAAyE;AACzE,iIAA+H;AAC/H,kIAAkD;AAGlD;IAAA;IA0CA,CAAC;IAtCS,oCAAI,GAAV,UAAW,OAA2B;;;;;;wBAC5B,KAAK,GAAG,oBAAQ,CAAC,OAAO,CAAC,CAAC;wBACV,qBAAM,IAAI,CAAC,qBAAqB,EAAE;;wBAAlD,aAAa,GAAG,SAAkC;wBAClD,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC;6BACtC,UAAS,CAAC,gBAAgB,IAAI,SAAS,CAAC,SAAS,GAAjD,wBAAiD;wBAC1B,qBAAM,SAAS,CAAC,iBAAiB,EAAE;;wBAApD,cAAc,GAAG,SAAmC;wBACpD,GAAG,GAAG,aAAa,CAAC,SAAS,CAAC;wBAChB,qBAAM,cAAc,CAAC,WAAW,CAAC,2BAAiB,CAAC,IAAI,EAAE;gCACzE,YAAY,EAAE,EAAE,GAAG,OAAE;gCACrB,QAAQ,EAAE,KAAK,CAAC,KAAK;6BACxB,CAAC;;wBAHI,WAAW,GAAG,SAGlB;6BACE,WAAW,EAAX,wBAAW;wBACL,eAAe,GAAG,CAAE,WAAmB,CAAC,OAAO,CAAC,CAAC;4BACnD,CAAC,CAAE,WAA8B,CAAC,KAAK;4BACvC,CAAC,CAAC,WAA+B,CAAC;wBAChC,cAAc,GAAG,IAAI,CAAC,qBAAqB,CAAC,eAAe,CAAC;6BAC7D,GAAG,CAAC,WAAC;4BAAM,OAAO;gCACf,KAAK,EAAE,CAAC,CAAC,QAAS,CAAC,OAAO;gCAC1B,KAAK,EAAE,CAAC;6BACX,CAAC;wBACN,CAAC,CAAC,CAAC;wBACU,qBAAM,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC;;wBAA5D,IAAI,GAAG,SAAqD;6BAC9D,KAAI,IAAI,IAAI,CAAC,QAAQ,GAArB,wBAAqB;wBACf,OAAO,GAAkC,EAAE,CAAC;wBAClD,OAAO,CAAC,GAAG,CAAC,GAAG,uBACR,IAAI,CAAC,QAAQ,GAAK,EAAE,KAAK,SAAE,EAChC,CAAC;wBACH,qBAAM,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC;gCAChC,OAAO;6BACV,CAAC;;wBAFF,SAEE,CAAC;;;;;;KAIlB;IAES,qDAAqB,GAA/B,UAAgC,KAAuB;QACnD,OAAO,KAAK,CAAC,MAAM,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,KAAK,4BAAkB,CAAC,SAAS,EAA1C,CAA0C,CAAC,CAAC;IAC5E,CAAC;IAvCqC;QAArC,kBAAM,CAAC,sDAA4B,CAAC;;wEAAqD;IAFjF,qBAAqB;QADjC,sBAAU,EAAE;OACA,qBAAqB,CA0CjC;IAAD,4BAAC;CAAA;AA1CY,sDAAqB;;;;;;;;;;;;;;ACvBlC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGlF,2FAAgI;AAChI,yKAAwE;AACxE,kIAAuE;AAEvE,qGAA+C;AAE/C;IAII,qDAAqD;IACrD,uCAAqB,SAAoB,EAAW,SAAiB;QAAhD,cAAS,GAAT,SAAS,CAAW;QAAW,cAAS,GAAT,SAAS,CAAQ;QAH5D,SAAI,GAAG,6BAA6B,CAAC,IAAI,CAAC;IAGqB,CAAC;IAJzD,kCAAI,GAAG,yBAAyB,CAAC;IAKrD,oCAAC;CAAA;AANY,sEAA6B;AAS1C;IAAoD,kDAA4B;IAG5E,wCAA2C,MAAqC;QAAhF,YACI,iBAAO,SACV;QAF0C,YAAM,GAAN,MAAM,CAA+B;;IAEhF,CAAC;IAED,4DAAmB,GAAnB,UAAoB,OAAgC;QAApD,iBAmDC;QAlDG,IAAM,QAAQ,GAAG,IAAI,GAAG,EAA6B,CAAC;QACtD,IAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC;QACjC,KAAK,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,WAAC;YACjB,IAAI,CAAC,IAAI,KAAI,CAAC,YAAY,CAAC,CAAC,CAAC;gBACzB,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;iBACf,IAAI,CAAC,YAAY,eAAK,IAAI,uBAAW,CAAC,CAAC,CAAC,EAAE;gBAC3C,IAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACzC,IAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;gBACzC,IAAI,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;uBAC5B,KAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC;oBAClC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aACvB;QACL,CAAC,CAAC,CAAC;QACH,IAAM,UAAU,GAAyB,IAAI,GAAG,EAAE,CAAC;QACnD,QAAQ,CAAC,OAAO,CAAC,iBAAO;YACpB,IAAM,GAAG,GAAG,kBAAM,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC7D,IAAM,KAAK,GAAG,oBAAQ,CAAC,OAAO,CAAC,CAAC;YAChC,IAAI,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACjC,IAAI,CAAC,MAAM,EAAE;gBACT,MAAM,GAAG,EAAE,CAAC;gBACZ,UAAU,CAAC,GAAG,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;aAC/B;YACD,IAAI,OAAO,GAAG,IAAI,CAAC;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;gBACpC,IAAM,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,KAAI,CAAC,aAAa,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE;oBAC9B,OAAO,GAAG,KAAK,CAAC;oBAChB,MAAM;iBACT;qBAAM,IAAI,KAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC,CAAC,EAAE;oBACrC,OAAO,GAAG,KAAK,CAAC;oBAChB,MAAM,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;oBAClB,MAAM;iBACT;aACJ;YACD,IAAI,OAAO;gBACP,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QACH,IAAM,OAAO,GAAG,EAAE,CAAC;QACnB,UAAU,CAAC,OAAO,CAAC,UAAC,MAAM,EAAE,GAAG;YAC1B,OAAe,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,eAAK;gBACpC,OAAkB;oBACd,KAAK;oBACL,OAAO,EAAE,EAAE;iBACd,CAAC;YACN,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QACH,IAAM,aAAa,GAAkB;YACjC,OAAO;SACV,CAAC;QACF,OAAO,aAAa,CAAC;IACzB,CAAC;IAEO,sDAAa,GAArB,UAAsB,KAAY,EAAE,UAAiB;QACjD,IAAI,UAAU,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE;YACpF,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,UAAU,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;YAChF,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,UAAU,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,UAAU,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE;YAClG,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,UAAU,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE;YAC1F,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,qDAAY,GAApB,UAA8C,CAAI;QAC9C,OAAO,sBAAY,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,IAAI,uBAAW,CAAC,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEO,2DAAkB,GAA1B,UAA2B,MAAiC;QACxD,OAAO,MAAM,EAAE;YACX,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;gBAC3B,OAAO,IAAI,CAAC;aACf;YACD,MAAM,GAAG,CAAC,MAAM,YAAY,uBAAa,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC;SAC1E;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IAvFe,mCAAI,GAAG,6BAA6B,CAAC,IAAI,CAAC;IADjD,8BAA8B;QAD1C,sBAAU,EAAE;QAII,6BAAM,CAAC,eAAK,CAAC,MAAM,CAAC;yCAAkB,6BAA6B;OAHvE,8BAA8B,CAyF1C;IAAD,qCAAC;CAAA,CAzFmD,qDAA4B,GAyF/E;AAzFY,wEAA8B;;;;;;;;;;;;;;AChC3C;;;;;;;;;;;;;;kFAckF;;;;;;;;AAElF,2FAE4F;AAC5F,qGAAuC;AAEvC;;;;;GAKG;AAEH;IAAA;QAEc,mBAAc,GAAG;YACvB,wBAAc,CAAC,IAAI,EAAE,2BAAiB,CAAC,IAAI;YAC3C,sBAAY,CAAC,IAAI,EAAE,2BAAiB,CAAC,IAAI,EAAE,2BAAiB,CAAC,IAAI;YACjE,sBAAY,CAAC,IAAI,EAAE,yBAAe,CAAC,IAAI;YACvC,6BAAmB,CAAC,IAAI,EAAE,iCAAuB,CAAC,IAAI,EAAE,6BAAmB,CAAC,IAAI;YAChF,4BAAkB,CAAC,IAAI;SAC1B,CAAC;QAEF,cAAS,GAAG,IAAI,CAAC;IAKrB,CAAC;IAHG,qCAAS,GAAT,UAAU,MAAc;QACpB,OAAO,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3E,CAAC;IAdQ,iBAAiB;QAD7B,sBAAU,EAAE;OACA,iBAAiB,CAe7B;IAAD,wBAAC;CAAA;AAfY,8CAAiB;;;;;;;;;;;;;;AC5B9B;;;;;;;;;;;;;;kFAckF;;;;;AAElF,8IAAsC;AACtC,kJAAwC;AACxC,oHAAyB;AACzB,8IAAsC;AACtC,4JAA6C;AAC7C,sJAA0C;AAC1C,0IAAoC;AACpC,0HAA4B;AAC5B,oJAAyC;;;;;;;;;;;;;;ACxBzC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;AAElF,qGAA+C;AAE/C,qJAA6D;AAC7D,gKAA0D;AAG7C,oCAA4B,GAAG,MAAM,CAAC,8BAA8B,CAAC,CAAC;AAKnF;IAA0C,wCAAkB;IAA5D;;IAuBA,CAAC;IAnBG,sCAAO,GAAP,UAAQ,SAAkC;QACtC,iBAAM,OAAO,YAAC,SAAS,CAAC,CAAC;IAC7B,CAAC;IAED,sBAAI,2CAAS;aAAb;YACI,IAAI,IAAI,CAAC,SAAS;gBACd,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;;gBAEhC,OAAO,SAAS,CAAC;QACzB,CAAC;;;OAAA;IAED,sBAAI,2CAAS;aAAb;YACI,OAAO,IAAI,CAAC,UAAqC,CAAC;QACtD,CAAC;;;OAAA;IAED,sDAAuB,GAAvB,UAAwB,MAA0B;QAC9C,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,MAAM,CAAC,QAAQ,KAAK,OAAO,CAAC;QAC3D,OAAO,iBAAM,uBAAuB,YAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IApB0B;QAA1B,kBAAM,CAAC,uCAAiB,CAAC;kCAAgB,uCAAiB;+DAAC;IAFnD,oBAAoB;QADhC,sBAAU,EAAE;OACA,oBAAoB,CAuBhC;IAAD,2BAAC;CAAA,CAvByC,yCAAkB,GAuB3D;AAvBY,oDAAoB;;;;;;;;;;;;;;AC3BjC;;;;;;;;;;;;;;kFAckF;;AAOlF,0IAA2D;AAO3D;;;;;;;;;GASG;AACH;IAWI,iCAAY,QAAuC;QAV3C,YAAO,GAAyB,EAAE,CAAC;QAWvC,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC9B,IAAI,CAAC,qBAAqB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7C,CAAC;IAED,yCAAO,GAAP,UAAQ,aAAiC;QACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACjC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED,4CAAU,GAAV,UAAW,aAAiC;QACxC,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QAClD,IAAI,KAAK,IAAI,CAAC;YACV,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAClC,aAAa,CAAC,UAAU,EAAE,CAAC;QAC3B,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAChE,CAAC;IAED,sCAAI,GAAJ,UAAK,GAAW,EAAE,MAAuB;QACrC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACrC,CAAC;IAED,4CAAU,GAAV,UAAW,QAAgB,EAAE,MAA0B;QACnD,IAAM,MAAM,GAAG,IAAI,CAAC,aAAa;aAC5B,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC;aAClC,IAAI,CAAC,WAAC,IAAI,QAAC,YAAY,8BAAa,IAAI,CAAC,CAAC,QAAQ,KAAK,QAAQ,EAArD,CAAqD,CAAC,CAAC;QACtE,IAAI,MAAM,YAAY,8BAAa;YAC/B,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IAED,6CAAW,GAAX,UAAY,OAAsB;QAC9B,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACvD,CAAC;IAED,mDAAiB,GAAjB;QACI,OAAO,IAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC;IACrD,CAAC;IAED,mDAAiB,GAAjB,UAAkB,OAAsB;QACpC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,iBAAO;YACxB,OAAO,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACP,CAAC;IACL,8BAAC;AAAD,CAAC;AAtDY,0DAAuB;;;;;;;;;;;;;;ACtCpC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAElF,iIAA6D;AAC7D,uHAAgE;AAChE,qGAA+C;AAE/C,4KAAyE;AACzE,kIAAkD;AAGlD;IAAA;IAsCA,CAAC;IAlCS,gCAAI,GAAV,UAAW,OAA2B;;;;;;wBAC5B,KAAK,GAAG,oBAAQ,CAAC,OAAO,CAAC,CAAC;wBACV,qBAAM,IAAI,CAAC,qBAAqB,EAAE;;wBAAlD,aAAa,GAAG,SAAkC;wBAClD,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC;6BACtC,SAAS,CAAC,SAAS,EAAnB,wBAAmB;wBACb,iBAAe,OAAO,CAAC,IAAI,CAAC;wBAC5B,MAAM,GAAG,IAAI,+BAAqB,CAAC;4BACrC,KAAK,EAAE,gBAAgB;4BACvB,YAAY;4BACZ,qBAAqB,EAAE;gCACnB,KAAK,EAAE,CAAC;gCACR,GAAG,EAAE,OAAO,CAAC,IAAI,CAAC,MAAM;6BAC3B;4BACD,QAAQ,EAAE,UAAC,IAAI,EAAE,IAAI;gCACjB,IAAI,cAAY,KAAK,IAAI,IAAI,IAAI,KAAK,SAAS,EAAE;oCAC7C,OAAO,KAAK,CAAC;iCAChB;gCACD,OAAO,IAAI,CAAC;4BAChB,CAAC;yBACJ,CAAC,CAAC;wBACa,qBAAM,MAAM,CAAC,IAAI,EAAE;;wBAA7B,OAAO,GAAG,SAAmB;6BAC/B,OAAO,EAAP,wBAAO;wBACgB,qBAAM,SAAS,CAAC,iBAAiB,EAAE;;wBAApD,cAAc,GAAG,SAAmC;wBACpC,qBAAM,cAAc,CAAC,WAAW,CAAC,uBAAa,CAAC,IAAI,EAAE;gCACvE,YAAY,EAAE,EAAE,GAAG,EAAE,aAAa,CAAC,SAAS,EAAE;gCAC9C,QAAQ,EAAE,KAAK,CAAC,KAAK;gCACrB,OAAO;6BACV,CAAC;;wBAJI,aAAa,GAAG,SAIpB;6BACE,aAAa,EAAb,wBAAa;wBACb,qBAAM,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,aAAa,CAAC;;wBAAlD,SAAkD,CAAC;;;;;;KAIlE;IAnCqC;QAArC,kBAAM,CAAC,sDAA4B,CAAC;;oEAAqD;IAFjF,iBAAiB;QAD7B,sBAAU,EAAE;OACA,iBAAiB,CAsC7B;IAAD,wBAAC;CAAA;AAtCY,8CAAiB;;;;;;;;;;;;;;ACxB9B;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;AAElF,2FAAwG;AAExG,mHAA6C;AAM7C,SAAgB,WAAW,CAA0B,OAAU;IAC5D,OAAO,CAAC,CAAE,OAAe,CAAC,KAAK,IAAI,CAAC,CAAC,QAAQ,CAAE,OAAe,CAAC,KAAK,CAAC,CAAC;AACzE,CAAC;AAFD,kCAEC;AAKD,SAAgB,QAAQ,CAAC,KAAkC;IACvD,IAAM,KAAK,GAAG,OAAO,KAAK,KAAK,QAAQ;QACnC,CAAC,CAAC,KAAK;QACP,CAAC,CAAE,KAAa,CAAC,KAAK,CAAC;IAC3B,IAAI,CAAC,KAAK;QACN,OAAO,SAAS,CAAC;IACrB,IAAM,KAAK,GAAG,IAAI,aAAG,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;IACnC,IAAM,OAAO,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,WAAC,IAAI,eAAQ,CAAC,CAAC,EAAE,EAAE,CAAC,EAAf,CAAe,CAAC,CAAC;IAC9D,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,SAAS;QACzD,OAAO,SAAS,CAAC;IACrB,OAAe;QACX,KAAK,EAAE;YACH,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;YAChB,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;SACxB;QACD,GAAG,EAAE;YACD,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;YAChB,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;SACxB;KACJ,CAAC;AACN,CAAC;AApBD,4BAoBC;AAED,SAAgB,MAAM,CAAC,SAAoB;IACvC,OAAO,IAAI,aAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,YAAY,EAAE,CAAC;AACnD,CAAC;AAFD,wBAEC;AAED;IAA4C,0CAAa;IAAzD;;IAQA,CAAC;IAPG,4CAAW,GAAX,UAAY,MAAqB,EAAE,KAAiB;QAChD,IAAM,SAAS,GAAG,oBAAU,CAAC,MAAM,EAAE,UAAC,OAAO,IAAK,kBAAW,CAAC,OAAO,CAAC,EAApB,CAAoB,CAAC,CAAC;QACxE,IAAI,SAAS;YACT,OAAO,CAAE,IAAI,oBAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAE,CAAC;;YAExC,OAAO,EAAE,CAAC;IAClB,CAAC;IACL,6BAAC;AAAD,CAAC,CAR2C,uBAAa,GAQxD;AARY,wDAAsB;;;;;;;;;;;;;;ACzDnC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIlF,qGAA+C;AAC/C,2FAAyF;AACzF,4KAAiE;AAGjE;IAA2D,gDAAO;IAAlE;;IA2BA,CAAC;IArBG,sBAAI,mDAAS;aAAb;YACI,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,SAAU,CAAC;QACnD,CAAC;;;OAAA;IAID,8CAAO,GAAP,UAAQ,OAAgC;QACpC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC;QAC/D,OAAO,OAAO,CAAC,IAAI,CAAC;IACxB,CAAC;IAED,2CAAI,GAAJ,UAAK,OAAgC;QACjC,uCAAuC;QACvC,OAAO,OAAO,CAAC,IAAI,CAAC;IACxB,CAAC;IAED,2CAAI,GAAJ,UAAK,OAAgC;QACjC,uCAAuC;QACvC,OAAO,OAAO,CAAC,IAAI,CAAC;IACxB,CAAC;IAxB6B;QAA7B,kBAAM,CAAC,8CAAoB,CAAC;kCAAgB,8CAAoB;uEAAC;IAFhD,4BAA4B;QADjD,sBAAU,EAAE;OACS,4BAA4B,CA2BjD;IAAD,mCAAC;CAAA,CA3B0D,iBAAO,GA2BjE;AA3BqB,oEAA4B;AA6BlD;;GAEG;AACH;IAII,6BAAqB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;QADxC,SAAI,GAAG,mBAAmB,CAAC,IAAI,CAAC;IACW,CAAC;IAHrC,wBAAI,GAAG,eAAe,CAAC;IAI3C,0BAAC;CAAA;AALY,kDAAmB;AAQhC;IAA0C,wCAA4B;IAGlE,8BAA2C,MAA2B;QAAtE,YACI,iBAAO,SACV;QAF0C,YAAM,GAAN,MAAM,CAAqB;;IAEtE,CAAC;IAED,kDAAmB,GAAnB,UAAoB,OAAgC;QAChD,OAAO,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC;IACrC,CAAC;IARe,yBAAI,GAAG,mBAAmB,CAAC,IAAI,CAAC;IADvC,oBAAoB;QADhC,sBAAU,EAAE;QAII,6BAAM,CAAC,eAAK,CAAC,MAAM,CAAC;yCAAkB,mBAAmB;OAH7D,oBAAoB,CAUhC;IAAD,2BAAC;CAAA,CAVyC,4BAA4B,GAUrE;AAVY,oDAAoB;;;;;;;;;;;;;;AC/DjC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;AAElF,qGAA8D;AAE9D,2FAAqE;AAGrE;IAAkC,gCAAO;IAErC,sBAAiE,YAAgC;QAAhC,gDAAgC;QAAjG,YACI,kBAAM,EAAE,CAAC,SACZ;QAFgE,kBAAY,GAAZ,YAAY,CAAoB;;IAEjG,CAAC;IAED,+BAAQ,GAAR,UAAS,KAAY,EAAE,OAAsB;QACzC,OAAO,KAAK,CAAC;IACjB,CAAC;IARQ,YAAY;QADxB,sBAAU,EAAE;QAGI,kCAAW,CAAC,eAAK,CAAC,WAAW,CAAC,GAAC,+BAAQ,EAAE;;OAF7C,YAAY,CASxB;IAAD,mBAAC;CAAA,CATiC,iBAAO,GASxC;AATY,oCAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBzB;;;;;;;;;;;;;;kFAckF;AAClF,uGAA4H;AAC5H,uHAA8D;AAC9D,qGAA+C;AAG/C,IAAiB,uBAAuB,CAEvC;AAFD,WAAiB,uBAAuB;IACvB,oCAAY,GAAa,CAAC,4BAA4B,CAAC,CAAC;AACzE,CAAC,EAFgB,uBAAuB,GAAvB,+BAAuB,KAAvB,+BAAuB,QAEvC;AAGD;IAAA;IA+EA,CAAC;IA/DG,yCAAO,GAAP,UAAQ,gBAAmC;QACvC,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;IAC7C,CAAC;IAED,sCAAI,GAAJ,UAAK,KAAiB,EAAE,MAAc,EAAE,MAAmB;QAA3D,iBAQC;QAPG,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,uBAAuB,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;QAC9E,IAAM,aAAa,GAAG;YAClB,QAAQ,EAAE,uBAAuB,CAAC,YAAY,EAAE,MAAM,EAAE,MAAM;YAC9D,MAAM,EAAE,cAAQ,IAAI,MAAM;gBAAE,MAAM,EAAE,CAAC,CAAC,KAAI,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;SAClE,CAAC;QACF,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IACnD,CAAC;IAES,0CAAQ,GAAlB,UAAmB,QAAkB,EAAE,KAAiB;QACpD,IAAM,WAAW,GAAqB,EAAE,CAAC;QACzC,KAAmB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK,EAAE;YAArB,IAAM,IAAI;YACX,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC3C,IAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,gBAAK,QAAQ,GAAE,IAAI,CAAC,KAAK,GAAE,CAAC,CAAC,QAAQ,CAAC;gBACzE,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC,CAAC;gBAC7D,WAAW,CAAC,IAAI,OAAhB,WAAW,EAAS,IAAI,CAAC,QAAQ,gBAAK,cAAc,GAAE,IAAI,CAAC,EAAE,IAAG,IAAI,CAAC,QAAQ,CAAC,EAAE;aACnF;iBAAM;gBACH,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;gBACvD,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC;aAC7D;SACJ;QACD,OAAO,WAAW,CAAC;IACvB,CAAC;IAES,iDAAe,GAAzB,UAA0B,QAAkB,EAAE,IAAc;QACxD,OAAO,IAAI,CAAC,YAAY,CAAC,eAAe,gBAAK,QAAQ,GAAE,IAAI,CAAC,EAAE,IAAG,IAAI,CAAC,KAAK,CAAC,CAAC;IACjF,CAAC;IAES,iDAAe,GAAzB,UAA0B,QAAkB,EAAE,IAAc;QACxD,IAAM,OAAO,GAAY,EAAE,EAAE,EAAE,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC;QACpG,IAAM,UAAU,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,OAAO,EAAE,IAAI,qBAAqB,CAAC,IAAI,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;QACzH,OAAO,IAAI,iBAAiB,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IACtD,CAAC;IAES,oDAAkB,GAA5B,UAA6B,QAAkB,EAAE,IAAc;QAC3D,IAAM,UAAU,GAAG,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE,SAAS,EAAE,SAAS,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC;QACvG,IAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,gBAAK,QAAQ,GAAE,IAAI,CAAC,KAAK,GAAE,CAAC,CAAC,QAAQ,CAAC;QACzE,IAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;QACpF,OAAO,IAAI,oBAAoB,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;IAC5D,CAAC;IAES,4CAAU,GAApB;QACI,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAES,iDAAe,GAAzB;QAAA,iBAIC;QAHG,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC;YAC7B,KAAI,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IAES,yCAAO,GAAjB;QAAA,iBAKC;QAJG,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,oBAAU,IAAI,iBAAU,CAAC,OAAO,CAAC,KAAI,CAAC,YAAY,EAAE,KAAI,CAAC,eAAe,CAAC,EAA3D,CAA2D,CAAC,CAAC;YACpG,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;SAChC;IACL,CAAC;IAxED;QADC,kBAAM,CAAC,6BAAmB,CAAC;;wEACgC;IAG5D;QADC,kBAAM,CAAC,wBAAiB,CAAC;kCACO,wBAAiB;iEAAC;IAGnD;QADC,kBAAM,CAAC,sBAAe,CAAC;kCACY,sBAAe;oEAAC;IAZ3C,uBAAuB;QADnC,sBAAU,EAAE;OACA,uBAAuB,CA+EnC;IAAD,8BAAC;CAAA;AA/EY,0DAAuB;AAiFpC;IAEI,+BAAqB,QAAkB,EAAW,gBAAoC;QAAjE,aAAQ,GAAR,QAAQ,CAAU;QAAW,qBAAgB,GAAhB,gBAAgB,CAAoB;IAAI,CAAC;IAE3F,uCAAO,GAAP;QAAQ,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;QAClB,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE;YAChD,IAAI,CAAC,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;SAC5D;IACL,CAAC;IAED,yCAAS,GAAT;QAAU,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;QACpB,OAAO,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,yCAAS,GAAT;QAAU,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;QACpB,OAAO,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC1D,CAAC;IAED,yCAAS,GAAT;QAAU,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;QACpB,OAAO,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC3D,CAAC;IACL,4BAAC;AAAD,CAAC;AAMD;IACI,8BAA+B,UAAsB,EAAqB,UAAsB;QAAjE,eAAU,GAAV,UAAU,CAAY;QAAqB,eAAU,GAAV,UAAU,CAAY;IAAI,CAAC;IACrG,sCAAO,GAAP,UAAQ,YAA+B,EAAE,eAAgC;QACrE,YAAY,CAAC,oBAAoB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACnD,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC9B,CAAC;IACL,2BAAC;AAAD,CAAC;AAED;IACI,2BAA+B,OAAgB,EAAqB,UAAsB;QAA3D,YAAO,GAAP,OAAO,CAAS;QAAqB,eAAU,GAAV,UAAU,CAAY;IAAI,CAAC;IAC/F,mCAAO,GAAP,UAAQ,YAA+B,EAAE,eAAgC;QACrE,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChD,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;IAC9B,CAAC;IACL,wBAAC;AAAD,CAAC;AAED,SAAS,SAAS,CAAC,QAAkB,EAAE,IAAS;IAC5C,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC;AAC9C,CAAC;AAED,SAAS,eAAe,CAAC,KAAU,EAAE,YAAqB;IACtD,IAAI,SAAS,GAAG,YAAY,CAAC;IAC7B,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE;QACnB,SAAS,GAAG,KAAK,EAAE,CAAC;KACvB;SAAM,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;QACzB,SAAS,GAAG,KAAK,CAAC;KACrB;IACD,OAAO,SAAS,CAAC;AACrB,CAAC;AAED,SAAS,UAAU,CAAC,KAA8B;IAC9C,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,WAAW,IAAI,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC;AACvE,CAAC;AAED,SAAS,SAAS,CAAC,KAA8B;IAC7C,OAAO,OAAO,KAAK,KAAK,SAAS,CAAC;AACtC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACzKD;;;;;;;;;;;;;;kFAckF;AAClF,qGAAgD;AAChD,2FAGiB;AACjB,uGAA+C;AAS/C,SAAgB,kBAAkB,CAAC,MAAY;IAC3C,OAAO,MAAM,KAAK,SAAS,IAAuB,MAAO,CAAC,mBAAmB,KAAK,SAAS;WACjE,MAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;AAC7D,CAAC;AAHD,gDAGC;AAGD;IAAA;IAuBA,CAAC;IAhBG,mDAAU,GAAV,UAAW,QAA+B;QACtC,QAAQ,CAAC,QAAQ,CAAC,4BAAkB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACjD,QAAQ,CAAC,QAAQ,CAAC,sBAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC/C,CAAC;IAED,+CAAM,GAAN,UAAO,MAAc;QACjB,IAAI,MAAM,YAAY,sBAAY,EAAE;YAChC,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAqB;gBAChD,mBAAmB,EAAE,MAAM,CAAC,mBAAmB;gBAC/C,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO;gBACpC,SAAS,EAAE,IAAI,CAAC,SAAS;aAC5B,CAAC;SACL;aAAM,IAAI,MAAM,YAAY,4BAAkB,IAAI,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE;YAC7E,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,SAAmB,CAAC;SACvD;IACL,CAAC;IApB4B;QAA5B,kBAAM,CAAC,eAAK,CAAC,aAAa,CAAC;;yEAAwC;IAC1C;QAAzB,kBAAM,CAAC,uBAAgB,CAAC;kCAA6B,uBAAgB;4EAAC;IAH9D,8BAA8B;QAD1C,sBAAU,EAAE;OACA,8BAA8B,CAuB1C;IAAD,qCAAC;CAAA;AAvBY,wEAA8B;;;;;;;;;;;;;;ACnC3C;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGlF,iIAA2H;AAC3H,qGAA4D;AAC5D,oIAA4D;AAG5D;IAAgE,qDAA8B;IAE1F,2CACuB,SAAoB,EACpB,SAAoB,EACR,qBAA4C,EAC5B,uBAAiD;QAJpG,YAKI,kBAAM,SAAS,EAAE,SAAS,EAAE,qBAAqB,CAAC,SACrD;QAFkD,6BAAuB,GAAvB,uBAAuB,CAA0B;;IAEpG,CAAC;IAED,6DAAiB,GAAjB,UAAkB,GAAwB;QACtC,OAAO,OAAO,CAAC,IAAI,CAAC;YAChB,iBAAM,iBAAiB,YAAC,GAAG,CAAC;YAC5B,IAAI,CAAC,mBAAmB,EAAE;SAC7B,CAAC,CAAC;IACP,CAAC;IAES,+DAAmB,GAA7B;QACI,OAAO,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,gCAAsB;YACvE,OAAO,sBAAsB,EAAE,CAAC,IAAI,CAAC,wBAAc;gBAC/C,OAAO,IAAI,OAAO,CAAO,UAAC,OAAO;oBAC7B,IAAM,UAAU,GAAG,cAAc,CAAC,SAAS,CAAC,UAAC,MAAM;wBAC/C,UAAU,CAAC,OAAO,EAAE,CAAC;wBACrB,OAAO,EAAE,CAAC;oBACd,CAAC,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IA5BiB,iCAAiC;QADtD,sBAAU,EAAE;QAIJ,6BAAM,CAAC,mBAAS,CAAC;QACjB,6BAAM,CAAC,mBAAS,CAAC;QACjB,6BAAM,CAAC,+BAAqB,CAAC;QAC7B,kCAAW,CAAC,wCAAsB,CAAC;yDADkB,+BAAqB;OAL7D,iCAAiC,CA6BtD;IAAD,wCAAC;CAAA,CA7B+D,wCAA8B,GA6B7F;AA7BqB,8EAAiC;;;;;;;;;;;;;;ACtBvD;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;AAElF,uHAA2D;AAC3D,mHAA6C;AAC7C,2HAA0D;AAC1D,iIAAuH;AACvH,qGAA+C;AAE/C,iIAAkD;AAWlD,IAAM,iBAAiB,GAAG,IAAI,0BAAgB,CAAsB,gBAAgB,CAAC,CAAC;AACtF,IAAM,mBAAmB,GAAG,IAAI,0BAAgB,CAAe,kBAAkB,CAAC,CAAC;AACnF,IAAM,2BAA2B,GAAG,IAAI,0BAAgB,CAAgC,0BAA0B,CAAC,CAAC;AAGpH;IAMI,+BAAqB,0BAAsD,EACtD,aAA4B;QADjD,iBAUC;QAVoB,+BAA0B,GAA1B,0BAA0B,CAA4B;QACtD,kBAAa,GAAb,aAAa,CAAe;QALjD,2BAAsB,GAA4B,EAAE,CAAC;QAMjD,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,IAAI,CAC/C,YAAE;YACE,EAAE,CAAC,cAAc,CAAC,iBAAiB,EAAE,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;YACxE,EAAE,CAAC,cAAc,CAAC,2BAA2B,EAAE,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;QACrF,CAAC,CACJ,CAAC,KAAK,CACH,aAAG,IAAI,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAC5B,CAAC;IACN,CAAC;IAED,gDAAgB,GAAhB,UAAiB,OAAgC;QAC7C,IAAM,GAAG,GAAG,IAAI,aAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE;YACpB,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,sBAAY;gBACvC,IAAM,iBAAiB,GAAG,YAAY,CAAC,MAAM,CAAC;gBAC9C,IAAI,YAAY,CAAC,SAAS,IAAI,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,iBAAiB,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;oBACvF,iBAAiB,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC;oBACxD,iBAAiB,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;oBACtD,iBAAiB,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC;iBACxD;YACL,CAAC,CAAC,CAAC;SACN;aAAM;YACH,IAAM,aAAa,GAAmC;gBAClD,IAAI,EAAE,MAAM;aACf,CAAC;YACF,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;YAC7C,IAAI,YAAY,YAAY,8BAAa,EAAE;gBACvC,aAAa,CAAC,GAAG,GAAG,YAAY,CAAC;gBACjC,aAAa,CAAC,IAAI,GAAG,cAAc,CAAC;aACvC;YACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,aAAa,iBAAE,CAAC,CAAC,IAAI,CAChD,sBAAY;gBACR,IAAM,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;gBACnC,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC;gBAC7C,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAC3C,MAAM,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC;YAC9C,CAAC,CAAC,CAAC;SACV;IACL,CAAC;IAED,8CAAc,GAAd,UAAe,OAAsB;QACjC,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,IAAI,CAAC,YAAE;YAClD,SAAE,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC;gBACd,SAAE,CAAC,gBAAgB,CAAC,iBAAiB,EAAE,OAAO,CAAC;YAA/C,CAA+C,CAClD;QAFD,CAEC,CACJ,CAAC;IACN,CAAC;IAED,iDAAiB,GAAjB,UAAkB,OAAsB;QACpC,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,gBAAM;YACtC,MAAM,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAI,iDAAc;aAAlB;YACI,OAAO,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC;QAC1D,CAAC;;;OAAA;IAED,wCAAQ,GAAR,UAAS,QAAgB;QACrB,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,IAAI,CAAC,YAAE,IAAI,SAAE,CAAC,gBAAgB,CAAC,mBAAmB,EAAE,QAAQ,CAAC,EAAlD,CAAkD,CAAC,CAAC;IAClH,CAAC;IAED,uCAAO,GAAP,UAAQ,MAA6B;QACjC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAED,0CAAU,GAAV,UAAW,MAA6B;QACpC,IAAM,KAAK,GAAG,IAAI,CAAC,sBAAsB,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC1D,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;SAC7C;IACL,CAAC;IA3EyB;QAAzB,kBAAM,CAAC,0BAAgB,CAAC;kCAAiB,0BAAgB;wDAAC;IAJlD,qBAAqB;QADjC,sBAAU,EAAE;iDAQ2B,uBAAa;OAPxC,qBAAqB,CAgFjC;IAAD,4BAAC;CAAA;AAhFY,sDAAqB;;;;;;;;;;;;;;ACtClC;;;;;;;;;;;;;;kFAckF;;;;;AAElF,oJAA0C;AAC1C,8KAAuD;AACvD,sJAA2C;AAC3C,wIAAoC;;;;;;;;;;;;;;ACnBpC;;;;;;;;;;;;;;kFAckF;;;;;;;;;;;AAGlF,uHAAuG;AACvG,qGAA+C;AAC/C,oJAAoF;AACpF,uIAA6E;AAC7E,6IAAiE;AACjE,iIAAkD;AAClD,gNAAkG;AAGlG;IAAA;IAsBA,CAAC;IAlBG,uDAAgB,GAAhB,UAAiB,QAAyB;QACtC,QAAQ,CAAC,eAAe,CAAC;YACrB,EAAE,EAAE,kCAAe,CAAC,MAAM;YAC1B,KAAK,EAAE,iBAAiB;SAC3B,CAAC,CAAC;QACH,QAAQ,CAAC,eAAe,CACpB,kCAAe,CAAC,MAAM,EACtB,IAAI,wCAAqB,CAAC,IAAI,CAAC,KAAK,EAAE,gBAAM;YACxC,IAAI,MAAM,YAAY,8BAAa,EAAE;gBACjC,IAAM,SAAS,GAAG,MAAM,CAAC,SAAS,YAAY,oDAAuB,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC/G,IAAI,SAAS,EAAE;oBACX,IAAM,MAAM,GAAG,IAAI,sCAA6B,CAAC,SAAS,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;oBACvF,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC5C;aACJ;QACL,CAAC,CAAC,CACL,CAAC;IACN,CAAC;IAnByB;QAAzB,kBAAM,CAAC,0BAAgB,CAAC;kCAA2B,0BAAgB;+DAAC;IAF5D,4BAA4B;QADxC,sBAAU,EAAE;OACA,4BAA4B,CAsBxC;IAAD,mCAAC;CAAA;AAtBY,oEAA4B;AAyBzC;IAAA;IAgBA,CAAC;IAZG,6DAAmB,GAAnB,UAAoB,QAA4B;QAC5C,QAAQ,CAAC,kBAAkB,CAAC;YACxB,OAAO,EAAE,kCAAe,CAAC,MAAM;YAC/B,OAAO,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAE;YACzC,UAAU,EAAE,KAAK;SACpB,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC;YACxB,OAAO,EAAE,kCAAe,CAAC,MAAM;YAC/B,OAAO,EAAE,IAAI,CAAC,wBAAwB,CAAC,EAAE;YACzC,UAAU,EAAE,WAAW;SAC1B,CAAC,CAAC;IACP,CAAC;IAbiC;QAAjC,kBAAM,CAAC,6CAAwB,CAAC;kCAA8C,6CAAwB;qFAAC;IAF/F,+BAA+B;QAD3C,sBAAU,EAAE;OACA,+BAA+B,CAgB3C;IAAD,sCAAC;CAAA;AAhBY,0EAA+B;;;;;;;;;;;;;;ACnD5C;;;;;;;;;;;;;;kFAckF;;AAElF,uHAAiE;AACjE,oHAA6D;AAC7D,qGAA4C;AAC5C,6KAA2G;AAE3G;;GAEG;AACH,kBAAe,IAAI,2BAAe,CAAC,cAAI;IACnC,IAAI,CAAC,4BAAmB,CAAC,CAAC,EAAE,CAAC,uDAA4B,CAAC,CAAC,gBAAgB,EAAE,CAAC;IAC9E,IAAI,CAAC,gCAAsB,CAAC,CAAC,EAAE,CAAC,0DAA+B,CAAC,CAAC,gBAAgB,EAAE,CAAC;AACxF,CAAC,CAAC,CAAC;;;;;;;;;;;;;AC1BH,cAAc,mBAAO,CAAC,oHAA2C;;AAEjE,4CAA4C,QAAS;;AAErD;AACA;;;;AAIA,eAAe;;AAEf;AACA;;AAEA,aAAa,mBAAO,CAAC,0FAAsC;;AAE3D;;AAEA,GAAG,KAAU,EAAE,E","file":"51.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './textmate-registry';\nexport * from './textmate-contribution';\nexport * from './monaco-textmate-service';\nexport * from './monaco-textmate-frontend-bindings';\n","exports = module.exports = require(\"../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2017-2018 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.sprotty {\\n    display: flex;\\n    height:100%;\\n}\\n\\n.sprotty svg {\\n    width: 100%;\\n    flex: 1;\\n    border-style: solid;\\n    border-width: 0px;\\n}\\n\\n.sprotty svg:focus {\\n    border-width: 0;\\n    outline: none;\\n}\\n\\n.sprotty-status {\\n    position: absolute;\\n    top: 5px;\\n    left: 10px;\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.sprotty-status .fatal {\\n    color: var(--theia-inputValidation-errorBorder)\\n}\\n\\n.sprotty-status .error {\\n    color: var(--theia-errorForeground)\\n}\\n\\n.sprotty-status .warning {\\n    color: var(--theia-editorWarning-foreground)\\n}\\n\\n.sprotty-status .info { \\n    color: var(--theia-editorInfo-foreground)\\n}\\n\\n.sprotty-error {\\n    fill: var(--theia-inputValidation-errorBackground);\\n    color: var(--theia-errorForeground);\\n}\\n\\n.sprotty-warning {\\n    fill: var(--theia-inputValidation-warningBackground);\\n    color: var(--theia-editorWarning-foreground);\\n}\\n\\n.sprotty-info {\\n    fill: var(--theia-info-color0);\\n    color: var(--theia-inputValidation-infoBackground);\\n}\\n\\n.sprotty-infoRow .fa {\\n    margin-right: 8px;\\n}\\n.sprotty-status .ok {\\n    visibility: hidden;\\n}\\n\\n.sprotty-status-message {\\n    visibility: hidden;\\n    padding-left: 10px;\\n}\\n\\n.sprotty-status-message.fatal {\\n    visibility: visible;\\n    padding-left: 10px;\\n}\\n\\n.sprotty-status:hover .sprotty-status-message {\\n    visibility: visible;\\n}\\n\\n.sprotty-popup {\\n    position: absolute;\\n    background: #FFE9BE;\\n\\tcolor: black;\\n    border-radius: 0px;\\n    border: none;\\n    max-width: initial;\\n    min-width: initial;\\n    z-index: 1;\\n    padding: 8px;\\n}\\n\\n.sprotty-infoRow {\\n    font-size: small;\\n    margin-bottom: 8px;\\n}\\n\\n.sprotty-infoTitle {\\n    display: block;\\n    font-weight: bold;\\n}\\n\\n.sprotty-edge > .sprotty-routing-handle {\\n    r: 5px;\\n    fill: var(--theia-foreground);\\n    stroke: none;\\n    z-index: 1000;\\n}\\n\\n.sprotty-edge > .sprotty-routing-handle[data-kind='line'] {\\n    opacity: 0.35;\\n}\\n\\n.sprotty-edge > .sprotty-routing-handle.selected {\\n    fill: var(--theia-button-background);\\n}\\n\\n.sprotty-edge > .sprotty-routing-handle.mouseover {\\n    stroke: var(--theia-button-hoverBackground);\\n    stroke-width: 1;\\n}\\n\\n.sprotty-edge.mouseover:not(.selected) {\\n    stroke-width: 3px;\\n}\\n\", \"\"]);\n\n// exports\n","exports = module.exports = require(\"../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/********************************************************************************\\n * Copyright (c) 2017-2018 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.sprotty {\\n    padding: 0px;\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n}\\n\\n.sprotty-hidden {\\n    display: block;\\n    position: absolute;\\n    width: 0px;\\n    height: 0px;\\n}\\n\\n.sprotty-popup {\\n    font-family: \\\"Helvetica Neue\\\", Helvetica, Arial, sans-serif;\\n    position: absolute;\\n    background: white;\\n    border-radius: 5px;\\n    border: 1px solid;\\n    max-width: 400px;\\n    min-width: 100px;\\n}\\n\\n.sprotty-popup > div {\\n    margin: 10px;\\n}\\n\\n.sprotty-popup-closed {\\n    display: none;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../css-loader/index.js!./theia-sprotty.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../css-loader/index.js!./theia-sprotty.css\", function() {\n\t\tvar newContent = require(\"!!../../css-loader/index.js!./theia-sprotty.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './sprotty/theia-diagram-server';\nexport * from './sprotty/theia-file-saver';\nexport * from './sprotty/theia-key-tool';\nexport * from './sprotty/theia-sprotty-connector';\nexport * from './sprotty/theia-sprotty-selection-forwarder';\nexport * from './sprotty/theia-sprotty-context-menu-service';\nexport * from './sprotty/languageserver/index';\n\nexport * from './theia/diagram-commands';\nexport * from './theia/diagram-configuration';\nexport * from './theia/diagram-keybinding';\nexport * from './theia/diagram-manager';\nexport * from './theia/diagram-module';\nexport * from './theia/diagram-widget';\nexport * from './theia/languageserver/index';\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { CodeAction, CodeActionParams, CodeActionRequest, Range } from '@theia/languages/lib/browser';\nimport { inject, injectable } from \"inversify\";\nimport { Action, EMPTY_ROOT, HtmlRootSchema, PopupHoverMouseListener, RequestPopupModelAction,\n    SButton, SButtonSchema, SetPopupModelAction, SModelElement, SModelElementSchema,\n    SModelRootSchema } from \"sprotty\";\nimport { IRootPopupModelProvider } from '../theia-diagram-server';\nimport { LSTheiaDiagramServerProvider } from './ls-theia-diagram-server';\nimport { getRange } from \"./traceable\";\nimport { WorkspaceEditAction } from \"./workspace-edit-command\";\nimport { EditDiagramLocker } from './edit-diagram-locker';\n\n@injectable()\nexport class CodeActionProvider {\n\n    @inject(LSTheiaDiagramServerProvider) diagramServerProvider: LSTheiaDiagramServerProvider;\n\n    async getCodeActions(range: Range, codeActionKind: string) {\n        const diagramServer = await this.diagramServerProvider();\n        const connector = diagramServer.connector;\n        const languageClient = await connector.getLanguageClient();\n        return languageClient.sendRequest(CodeActionRequest.type, <CodeActionParams>{\n            textDocument: {\n                uri: diagramServer.sourceUri\n            },\n            range,\n            context: {\n                diagnostics: [],\n                only: [codeActionKind]\n            }\n        });\n    }\n}\n\n/**\n * A popup-palette based on code actions.\n */\n@injectable()\nexport class CodeActionPalettePopupProvider implements IRootPopupModelProvider {\n\n    @inject(CodeActionProvider) codeActionProvider: CodeActionProvider;\n    @inject(EditDiagramLocker) editDiagramLocker: EditDiagramLocker;\n\n    async getPopupModel(action: RequestPopupModelAction, rootElement: SModelRootSchema): Promise<SModelElementSchema | undefined> {\n        const range = getRange(rootElement);\n        if (this.editDiagramLocker.allowEdit && range !== undefined) {\n            const codeActions = await this.codeActionProvider.getCodeActions(range, 'sprotty.create');\n            if (codeActions) {\n                const buttons: PaletteButtonSchema[] = [];\n                codeActions.forEach(codeAction => {\n                    if (CodeAction.is(codeAction)) {\n                        buttons.push(<PaletteButtonSchema>{\n                            id: codeAction.title,\n                            type: 'button:create',\n                            codeActionKind: codeAction.kind,\n                            range\n                        });\n                    }\n                });\n                return <HtmlRootSchema>{\n                    id: \"palette\",\n                    type: \"palette\",\n                    classes: ['sprotty-palette'],\n                    children: buttons,\n                    canvasBounds: action.bounds\n                };\n            }\n        }\n        return undefined;\n    }\n}\n\nexport interface PaletteButtonSchema extends SButtonSchema {\n    codeActionKind: string;\n    range: Range;\n}\n\nexport class PaletteButton extends SButton {\n    codeActionKind: string;\n    range: Range;\n}\n\n@injectable()\nexport class PaletteMouseListener extends PopupHoverMouseListener {\n\n    @inject(CodeActionProvider) codeActionProvider: CodeActionProvider;\n    @inject(LSTheiaDiagramServerProvider) diagramServerProvider: LSTheiaDiagramServerProvider;\n\n    mouseDown(target: SModelElement, event: MouseEvent): (Action | Promise<Action>)[] {\n        if (target instanceof PaletteButton) {\n            return [this.getWorkspaceEditAction(target)];\n        }\n        return [];\n    }\n\n    async getWorkspaceEditAction(target: PaletteButton): Promise<Action> {\n        const diagramServer = await this.diagramServerProvider();\n        const workspace = diagramServer.connector.workspace;\n        if (workspace) {\n            const codeActions = await this.codeActionProvider.getCodeActions(target.range, target.codeActionKind);\n            if (codeActions) {\n                for (const codeAction of codeActions) {\n                    if (CodeAction.is(codeAction) && codeAction.edit)\n                        return new WorkspaceEditAction(codeAction.edit);\n                }\n            }\n        }\n        return new SetPopupModelAction(EMPTY_ROOT);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SLabel } from \"sprotty\";\nimport { inject, injectable } from \"inversify\";\nimport { LSTheiaDiagramServerProvider } from \"./ls-theia-diagram-server\";\nimport { CompletionRequest, CompletionList, CompletionItem, TextEdit, CompletionItemKind } from '@theia/languages/lib/browser';\nimport { Traceable, getRange } from \"./traceable\";\n\n@injectable()\nexport class CompletionLabelEditor {\n\n    @inject(LSTheiaDiagramServerProvider) diagramServerProvider: LSTheiaDiagramServerProvider;\n\n    async edit(element: SLabel & Traceable) {\n        const range = getRange(element);\n        const diagramServer = await this.diagramServerProvider();\n        const connector = diagramServer.connector;\n        if (connector.quickPickService && connector.workspace) {\n            const languageClient = await connector.getLanguageClient();\n            const uri = diagramServer.sourceUri;\n            const completions = await languageClient.sendRequest(CompletionRequest.type, {\n                textDocument: { uri },\n                position: range.start\n            });\n            if (completions) {\n                const completionItems = ((completions as any)[\"items\"])\n                    ? (completions as CompletionList).items\n                    : completions as CompletionItem[];\n                const quickPickItems = this.filterCompletionItems(completionItems)\n                    .map(i => { return {\n                        label: i.textEdit!.newText,\n                        value: i\n                    };\n                });\n                const pick = await connector.quickPickService.show(quickPickItems);\n                if (pick && pick.textEdit) {\n                    const changes: { [uri: string]: TextEdit[] } = {};\n                    changes[uri] = [ {\n                        ...pick.textEdit, ...{ range }\n                    }];\n                    await connector.workspace.applyEdit({\n                        changes\n                    });\n                }\n            }\n        }\n    }\n\n    protected filterCompletionItems(items: CompletionItem[]): CompletionItem[] {\n        return items.filter(item => item.kind === CompletionItemKind.Reference);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { TextEdit, Workspace, WorkspaceEdit } from \"@theia/languages/lib/browser\";\nimport { Action, CommandExecutionContext, isSelectable, SEdge, Selectable, SModelElement, SChildElement, TYPES } from \"sprotty\";\nimport { AbstractWorkspaceEditCommand } from \"./workspace-edit-command\";\nimport { getRange, Traceable, isTraceable, getURI } from \"./traceable\";\nimport { Range } from \"@theia/languages/lib/browser\";\nimport { injectable, inject } from \"inversify\";\n\nexport class DeleteWithWorkspaceEditAction implements Action {\n    static readonly KIND = 'deleteWithWorkspaceEdit';\n    readonly kind = DeleteWithWorkspaceEditAction.KIND;\n\n    // TODO: consider URIs from individual element traces\n    constructor(readonly workspace: Workspace, readonly sourceUri: string) {}\n}\n\n@injectable()\nexport class DeleteWithWorkspaceEditCommand extends AbstractWorkspaceEditCommand {\n    static readonly KIND = DeleteWithWorkspaceEditAction.KIND;\n\n    constructor(@inject(TYPES.Action) readonly action: DeleteWithWorkspaceEditAction) {\n        super();\n    }\n\n    createWorkspaceEdit(context: CommandExecutionContext): WorkspaceEdit {\n        const elements = new Set<SModelElement & Traceable>();\n        const index = context.root.index;\n        index.all().forEach(e => {\n            if (e && this.shouldDelete(e))\n                elements.add(e);\n            else if (e instanceof SEdge && isTraceable(e)) {\n                const source = index.getById(e.sourceId);\n                const target = index.getById(e.targetId);\n                if (this.shouldDeleteParent(source)\n                    ||Â this.shouldDeleteParent(target))\n                    elements.add(e);\n            }\n        });\n        const uri2ranges: Map<string, Range[]> = new Map();\n        elements.forEach(element => {\n            const uri = getURI(element).withoutFragment().toString(true);\n            const range = getRange(element);\n            let ranges = uri2ranges.get(uri);\n            if (!ranges) {\n                ranges = [];\n                uri2ranges.set(uri, ranges);\n            }\n            let mustAdd = true;\n            for (let i = 0; i < ranges.length; ++i) {\n                const r = ranges[i];\n                if (this.containsRange(r, range)) {\n                    mustAdd = false;\n                    break;\n                } else if (this.containsRange(range, r)) {\n                    mustAdd = false;\n                    ranges[i] = range;\n                    break;\n                }\n            }\n            if (mustAdd)\n                ranges.push(range);\n        });\n        const changes = {};\n        uri2ranges.forEach((ranges, uri) => {\n            (changes as any)[uri] = ranges.map(range => {\n                return <TextEdit> {\n                    range,\n                    newText: ''\n                };\n            });\n        });\n        const workspaceEdit: WorkspaceEdit = {\n            changes\n        };\n        return workspaceEdit;\n    }\n\n    private containsRange(range: Range, otherRange: Range): boolean {\n        if (otherRange.start.line < range.start.line || otherRange.end.line < range.start.line) {\n            return false;\n        }\n        if (otherRange.start.line > range.end.line || otherRange.end.line > range.end.line) {\n            return false;\n        }\n        if (otherRange.start.line === range.start.line && otherRange.start.character < range.start.character) {\n            return false;\n        }\n        if (otherRange.end.line === range.end.line && otherRange.end.character > range.end.character) {\n            return false;\n        }\n        return true;\n    }\n\n    private shouldDelete<T extends SModelElement>(e: T): e is (Traceable & Selectable & T) {\n        return isSelectable(e) && e.selected && isTraceable(e);\n    }\n\n    private shouldDeleteParent(source: SModelElement | undefined): boolean {\n        while (source)Â {\n            if (this.shouldDelete(source)) {\n                return true;\n            }\n            source = (source instanceof SChildElement) ? source.parent : undefined;\n        }\n        return false;\n    }\n}\n\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Action, CenterAction, FitToScreenAction, IDiagramLocker, SetViewportAction,\n    HoverFeedbackAction, RequestPopupModelAction, SetPopupModelAction, SelectAction,\n    SelectAllAction, ServerStatusAction, SetModelAction, UpdateModelAction } from \"sprotty\";\nimport { injectable } from \"inversify\";\n\n/**\n * An `IDiagramLocker` for language-server based editable diagrams.\n *\n * Prevents displatching of edit actions when editing is disallowed, e.g.\n * because the LS's status is fatal.\n */\n@injectable()\nexport class EditDiagramLocker implements IDiagramLocker {\n\n    protected nonEditActions = [\n        SetModelAction.KIND, UpdateModelAction.KIND,\n        CenterAction.KIND, FitToScreenAction.KIND, SetViewportAction.KIND,\n        SelectAction.KIND, SelectAllAction.KIND,\n        HoverFeedbackAction.KIND, RequestPopupModelAction.KIND, SetPopupModelAction.KIND,\n        ServerStatusAction.KIND\n    ];\n\n    allowEdit = true;\n\n    isAllowed(action: Action): booleanÂ {\n        return this.allowEdit ||Â this.nonEditActions.indexOf(action.kind) >= 0;\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './code-action-palette';\nexport * from './completion-label-edit';\nexport * from './delete';\nexport * from './edit-diagram-locker';\nexport * from './ls-theia-sprotty-connector';\nexport * from './ls-theia-diagram-server';\nexport * from './rename-label-edit';\nexport * from './traceable';\nexport * from './workspace-edit-command';\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from \"inversify\";\nimport { ServerStatusAction } from \"sprotty\";\nimport { TheiaDiagramServer } from \"../theia-diagram-server\";\nimport { EditDiagramLocker } from \"./edit-diagram-locker\";\nimport { LSTheiaSprottyConnector } from \"./ls-theia-sprotty-connector\";\n\nexport const LSTheiaDiagramServerProvider = Symbol('LSTheiaDiagramServerProvider');\n\nexport type LSTheiaDiagramServerProvider = () => Promise<LSTheiaDiagramServer>;\n\n@injectable()\nexport class LSTheiaDiagramServer extends TheiaDiagramServer {\n\n    @inject(EditDiagramLocker) diagramLocker: EditDiagramLocker;\n\n    connect(connector: LSTheiaSprottyConnector): void {\n        super.connect(connector);\n    }\n\n    get workspace() {\n        if (this.connector)\n            return this.connector.workspace;\n        else\n            return undefined;\n    }\n\n    get connector(): LSTheiaSprottyConnector {\n        return this._connector as LSTheiaSprottyConnector;\n    }\n\n    handleServerStateAction(action: ServerStatusAction) {\n        this.diagramLocker.allowEdit = action.severity !== 'FATAL';\n        return super.handleServerStateAction(action);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { QuickPickService, WidgetManager } from '@theia/core/lib/browser';\nimport { ILanguageClient } from '@theia/languages/lib/browser';\nimport { MonacoWorkspace } from \"@theia/monaco/lib/browser/monaco-workspace\";\nimport { ActionMessage, ExportSvgAction, ServerStatusAction } from 'sprotty';\nimport { DiagramManager } from '../../theia/diagram-manager';\nimport { DiagramWidget } from '../../theia/diagram-widget';\nimport { ActionMessageReceiver, DiagramLanguageClient } from '../../theia/languageserver';\nimport { TheiaDiagramServer } from '../theia-diagram-server';\nimport { TheiaFileSaver } from '../theia-file-saver';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { TheiaSprottyConnector, TheiaSprottyConnectorServices } from '../theia-sprotty-connector';\n\n/**\n * Connects sprotty DiagramServers to a Theia LanguageClientContribution.\n *\n * Used to tunnel sprotty actions to and from the sprotty server through\n * the LSP.\n *\n * Instances bridge the gap between the sprotty DI containers (one per\n * diagram) and a specific language client from the Theia DI container\n * (one per application).\n */\nexport class LSTheiaSprottyConnector implements TheiaSprottyConnector, TheiaSprottyConnectorServices, ActionMessageReceiver {\n    private servers: TheiaDiagramServer[] = [];\n\n    readonly diagramLanguageClient: DiagramLanguageClient;\n    readonly fileSaver: TheiaFileSaver;\n    readonly editorManager: EditorManager;\n    readonly widgetManager: WidgetManager;\n    readonly diagramManager: DiagramManager;\n    readonly workspace?: MonacoWorkspace;\n    readonly quickPickService?: QuickPickService;\n\n    constructor(services: TheiaSprottyConnectorServices) {\n        Object.assign(this, services);\n        this.diagramLanguageClient.connect(this);\n    }\n\n    connect(diagramServer: TheiaDiagramServer) {\n        this.servers.push(diagramServer);\n        diagramServer.connect(this);\n    }\n\n    disconnect(diagramServer: TheiaDiagramServer) {\n        const index = this.servers.indexOf(diagramServer);\n        if (index >= 0)\n            this.servers.splice(index, 1);\n        diagramServer.disconnect();\n        this.diagramLanguageClient.didClose(diagramServer.clientId);\n    }\n\n    save(uri: string, action: ExportSvgAction) {\n        this.fileSaver.save(uri, action);\n    }\n\n    showStatus(clientId: string, status: ServerStatusAction): void {\n        const widget = this.widgetManager\n            .getWidgets(this.diagramManager.id)\n            .find(w => w instanceof DiagramWidget && w.clientId === clientId);\n        if (widget instanceof DiagramWidget)\n            widget.setStatus(status);\n    }\n\n    sendMessage(message: ActionMessage) {\n        this.diagramLanguageClient.sendThroughLsp(message);\n    }\n\n    getLanguageClient(): Promise<ILanguageClient> {\n        return this.diagramLanguageClient.languageClient;\n    }\n\n    onMessageReceived(message: ActionMessage): void {\n        this.servers.forEach(element => {\n            element.messageReceived(message);\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { RenameRequest } from '@theia/languages/lib/browser';\nimport { SingleTextInputDialog } from '@theia/core/lib/browser';\nimport { inject, injectable } from \"inversify\";\nimport { SLabel } from \"sprotty\";\nimport { LSTheiaDiagramServerProvider } from \"./ls-theia-diagram-server\";\nimport { Traceable, getRange } from './traceable';\n\n@injectable()\nexport class RenameLabelEditor {\n\n    @inject(LSTheiaDiagramServerProvider) diagramServerProvider: LSTheiaDiagramServerProvider;\n\n    async edit(element: SLabel & Traceable) {\n        const range = getRange(element);\n        const diagramServer = await this.diagramServerProvider();\n        const connector = diagramServer.connector;\n        if (connector.workspace) {\n            const initialValue = element.text;\n            const dialog = new SingleTextInputDialog({\n                title: 'Rename Element',\n                initialValue,\n                initialSelectionRange: {\n                    start: 0,\n                    end: element.text.length\n                },\n                validate: (name, mode) => {\n                    if (initialValue === name && mode === 'preview') {\n                        return false;\n                    }\n                    return true;\n                }\n            });\n            const newName = await dialog.open();\n            if (newName) {\n                const languageClient = await connector.getLanguageClient();\n                const workspaceEdit = await languageClient.sendRequest(RenameRequest.type, {\n                    textDocument: { uri: diagramServer.sourceUri },\n                    position: range.start,\n                    newName\n                });\n                if (workspaceEdit) {\n                    await connector.workspace.applyEdit(workspaceEdit);\n                }\n            }\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SModelElement, SModelExtension, MouseListener, Action, findParent, OpenAction } from \"sprotty\";\nimport { Range } from \"@theia/languages/lib/browser\";\nimport URI from \"@theia/core/lib/common/uri\";\n\nexport interface Traceable extends SModelExtension {\n    trace: string\n}\n\nexport function isTraceable<T extends SModelElement>(element: T): element is Traceable & T {\n   return !!(element as any).trace && !!getRange((element as any).trace);\n}\n\nexport function getRange(traceable: Traceable): Range;\nexport function getRange(trace: string): Range | undefined;\nexport function getRange(trace: object): Range | undefined;\nexport function getRange(thing: string |Â Traceable | object): Range |Â undefined {\n    const trace = typeof thing === 'string'\n        ? thing\n        : (thing as any).trace;\n    if (!trace)\n        return undefined;\n    const query = new URI(trace).query;\n    const numbers = query.split(/[:-]/).map(s => parseInt(s, 10));\n    if (numbers.length !== 4 ||Â numbers.find(isNaN) !== undefined)\n        return undefined;\n    return <Range> {\n        start: {\n            line: numbers[0],\n            character: numbers[1]\n        },\n        end: {\n            line: numbers[2],\n            character: numbers[3]\n        }\n    };\n}\n\nexport function getURI(traceable: Traceable): URI {\n    return new URI(traceable.trace).withoutQuery();\n}\n\nexport class TraceableMouseListener extends MouseListener {\n    doubleClick(target: SModelElement, event: WheelEvent): (Action | Promise<Action>)[] {\n        const traceable = findParent(target, (element) => isTraceable(element));\n        if (traceable)\n            return [ new OpenAction(traceable.id) ];\n        else\n            return [];\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { WorkspaceEdit } from \"@theia/languages/lib/browser\";\nimport { MonacoWorkspace } from \"@theia/monaco/lib/browser/monaco-workspace\";\nimport { inject, injectable } from \"inversify\";\nimport { Action, Command, CommandExecutionContext, TYPES, CommandReturn } from \"sprotty\";\nimport { LSTheiaDiagramServer } from \"./ls-theia-diagram-server\";\n\n@injectable()\nexport abstract class AbstractWorkspaceEditCommand extends Command {\n\n    @inject(LSTheiaDiagramServer) diagramServer: LSTheiaDiagramServer;\n\n    abstract createWorkspaceEdit(context: CommandExecutionContext): WorkspaceEdit;\n\n    get workspace(): MonacoWorkspace {\n        return this.diagramServer.connector.workspace!;\n    }\n\n    protected workspaceEdit: WorkspaceEdit |Â undefined;\n\n    execute(context: CommandExecutionContext): CommandReturn {\n        this.workspaceEdit = this.createWorkspaceEdit(context);\n        this.workspace.applyEdit(this.workspaceEdit, { mode: 'open' });\n        return context.root;\n    }\n\n    undo(context: CommandExecutionContext): CommandReturn {\n        // TODO implement revert workspace edit\n        return context.root;\n    }\n\n    redo(context: CommandExecutionContext): CommandReturn {\n        // TODO implement revert workspace edit\n        return context.root;\n    }\n}\n\n/**\n * This is a client only action, so it does not have to be serializable\n */\nexport class WorkspaceEditAction implements Action {\n    static readonly KIND = 'workspaceEdit';\n\n    readonly kind = WorkspaceEditAction.KIND;\n    constructor(readonly workspaceEdit: WorkspaceEdit) {}\n}\n\n@injectable()\nexport class WorkspaceEditCommand extends AbstractWorkspaceEditCommand {\n    static readonly KIND = WorkspaceEditAction.KIND;\n\n    constructor(@inject(TYPES.Action) readonly action: WorkspaceEditAction) {\n        super();\n    }\n\n    createWorkspaceEdit(context: CommandExecutionContext)Â {\n        return this.action.workspaceEdit;\n    }\n}\n\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, multiInject, optional } from 'inversify';\nimport { VNode } from 'snabbdom/vnode';\nimport { KeyListener, KeyTool, SModelElement, TYPES } from 'sprotty';\n\n@injectable()\nexport class TheiaKeyTool extends KeyTool {\n\n    constructor(@multiInject(TYPES.KeyListener)@optional() protected keyListeners: KeyListener[] = []) {\n        super([]);\n    }\n\n    decorate(vnode: VNode, element: SModelElement): VNode {\n        return vnode;\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { Command, CommandHandler, CommandRegistry, Disposable, MenuAction, MenuModelRegistry, MenuPath } from \"@theia/core\";\nimport { ContextMenuRenderer } from \"@theia/core/lib/browser\";\nimport { inject, injectable } from \"inversify\";\nimport { IActionDispatcher, IContextMenuService, MenuItem, Anchor } from \"sprotty\";\n\nexport namespace TheiaSprottyContextMenu {\n    export const CONTEXT_MENU: MenuPath = ['theia-sprotty-context-menu'];\n}\n\n@injectable()\nexport class TheiaContextMenuService implements IContextMenuService {\n\n    protected timeout?: number;\n    protected disposables?: DisposableItem[];\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(MenuModelRegistry)\n    protected readonly menuProvider: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    protected actionDispatcher?: IActionDispatcher;\n\n    connect(actionDispatcher: IActionDispatcher) {\n        this.actionDispatcher = actionDispatcher;\n    }\n\n    show(items: MenuItem[], anchor: Anchor, onHide?: () => void): void {\n        this.cleanUpNow();\n        this.disposables = this.register(TheiaSprottyContextMenu.CONTEXT_MENU, items);\n        const renderOptions = {\n            menuPath: TheiaSprottyContextMenu.CONTEXT_MENU, anchor: anchor,\n            onHide: () => { if (onHide) onHide(); this.scheduleCleanup(); }\n        };\n        this.contextMenuRenderer.render(renderOptions);\n    }\n\n    protected register(menuPath: string[], items: MenuItem[]): DisposableItem[] {\n        const disposables: DisposableItem[] = [];\n        for (const item of items) {\n            if (item.children && item.children.length > 0) {\n                const menuPathOfItem = item.group ? [...menuPath, item.group] : menuPath;\n                disposables.push(this.registerSubmenu(menuPathOfItem, item));\n                disposables.push(...this.register([...menuPathOfItem, item.id], item.children));\n            } else {\n                disposables.push(this.registerCommand(menuPath, item));\n                disposables.push(this.registerMenuAction(menuPath, item));\n            }\n        }\n        return disposables;\n    }\n\n    protected registerSubmenu(menuPath: string[], item: MenuItem): DisposableItem {\n        return this.menuProvider.registerSubmenu([...menuPath, item.id], item.label);\n    }\n\n    protected registerCommand(menuPath: string[], item: MenuItem): DisposableItem {\n        const command: Command = { id: commandId(menuPath, item), label: item.label, iconClass: item.icon };\n        const disposable = this.commandRegistry.registerCommand(command, new SprottyCommandHandler(item, this.actionDispatcher));\n        return new DisposableCommand(command, disposable);\n    }\n\n    protected registerMenuAction(menuPath: string[], item: MenuItem): DisposableItem {\n        const menuAction = { label: item.label, order: item.sortString, commandId: commandId(menuPath, item) };\n        const menuPathOfItem = item.group ? [...menuPath, item.group] : menuPath;\n        const disposable = this.menuProvider.registerMenuAction(menuPathOfItem, menuAction);\n        return new DisposableMenuAction(menuAction, disposable);\n    }\n\n    protected cleanUpNow() {\n        window.clearTimeout(this.timeout);\n        this.cleanUp();\n    }\n\n    protected scheduleCleanup() {\n        this.timeout = window.setTimeout(() => {\n            this.cleanUp();\n        }, 200);\n    }\n\n    protected cleanUp() {\n        if (this.disposables) {\n            this.disposables.forEach(disposable => disposable.dispose(this.menuProvider, this.commandRegistry));\n            this.disposables = undefined;\n        }\n    }\n}\n\nclass SprottyCommandHandler implements CommandHandler {\n\n    constructor(readonly menuItem: MenuItem, readonly actionDispatcher?: IActionDispatcher) { }\n\n    execute(...args: any[]) {\n        if (this.actionDispatcher && this.menuItem.actions) {\n            this.actionDispatcher.dispatchAll(this.menuItem.actions);\n        }\n    }\n\n    isEnabled(...args: any[]): boolean {\n        return getBooleanValue(this.menuItem.isEnabled, true);\n    }\n\n    isVisible(...args: any[]): boolean {\n        return getBooleanValue(this.menuItem.isVisible, true);\n    }\n\n    isToggled(...args: any[]): boolean {\n        return getBooleanValue(this.menuItem.isToggled, false);\n    }\n}\n\ninterface DisposableItem {\n    dispose(menuProvider: MenuModelRegistry, commandRegistry: CommandRegistry): void;\n}\n\nclass DisposableMenuAction implements DisposableItem {\n    constructor(protected readonly menuAction: MenuAction, protected readonly disposable: Disposable) { }\n    dispose(menuProvider: MenuModelRegistry, commandRegistry: CommandRegistry): void {\n        menuProvider.unregisterMenuAction(this.menuAction);\n        this.disposable.dispose();\n    }\n}\n\nclass DisposableCommand implements DisposableItem {\n    constructor(protected readonly command: Command, protected readonly disposable: Disposable) { }\n    dispose(menuProvider: MenuModelRegistry, commandRegistry: CommandRegistry): void {\n        commandRegistry.unregisterCommand(this.command);\n        this.disposable.dispose();\n    }\n}\n\nfunction commandId(menuPath: string[], item: any): string {\n    return menuPath.join(\".\") + \".\" + item.id;\n}\n\nfunction getBooleanValue(value: any, defaultValue: boolean) {\n    let returnVal = defaultValue;\n    if (isFunction(value)) {\n        returnVal = value();\n    } else if (isBoolean(value)) {\n        returnVal = value;\n    }\n    return returnVal;\n}\n\nfunction isFunction(value: () => boolean | boolean): value is () => boolean {\n    return !!(value && value.constructor && value.call && value.apply);\n}\n\nfunction isBoolean(value: () => boolean | boolean): boolean {\n    return typeof value === \"boolean\";\n}\n","/********************************************************************************\n * Copyright (c) 2018 EclipseSource and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { inject, injectable, } from \"inversify\";\nimport {\n    Action, ActionHandlerRegistry, IActionHandler, SelectAction, TYPES, ViewerOptions,\n    RequestModelAction, IActionHandlerInitializer\n} from \"sprotty\";\nimport { SelectionService } from \"@theia/core\";\n\n\nexport interface SprottySelection {\n    selectedElementsIDs: string[]\n    widgetId: string\n    sourceUri?: string\n}\n\nexport function isSprottySelection(object?: any): object is SprottySelection {\n    return object !== undefined && (<SprottySelection>object).selectedElementsIDs !== undefined\n        && (<SprottySelection>object).widgetId !== undefined;\n}\n\n@injectable()\nexport class TheiaSprottySelectionForwarder implements IActionHandlerInitializer, IActionHandler {\n\n    @inject(TYPES.ViewerOptions) protected viewerOptions: ViewerOptions;\n    @inject(SelectionService) protected selectionService: SelectionService;\n\n    protected sourceUri?: string;\n\n    initialize(registry: ActionHandlerRegistry): any {\n        registry.register(RequestModelAction.KIND, this);\n        registry.register(SelectAction.KIND, this);\n    }\n\n    handle(action: Action): void {\n        if (action instanceof SelectAction) {\n            this.selectionService.selection = <SprottySelection>{\n                selectedElementsIDs: action.selectedElementsIDs,\n                widgetId: this.viewerOptions.baseDiv,\n                sourceUri: this.sourceUri\n            };\n        } else if (action instanceof RequestModelAction && action.options !== undefined) {\n            this.sourceUri = action.options.sourceUri as string;\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { FrontendApplication } from '@theia/core/lib/browser';\nimport { BaseLanguageClientContribution, LanguageClientFactory, Languages, Workspace } from '@theia/languages/lib/browser';\nimport { inject, injectable, multiInject } from 'inversify';\nimport { DiagramManagerProvider } from '../diagram-manager';\n\n@injectable()\nexport abstract class DiagramLanguageClientContribution extends BaseLanguageClientContribution {\n\n    constructor(\n        @inject(Workspace) workspace: Workspace,\n        @inject(Languages) languages: Languages,\n        @inject(LanguageClientFactory) languageClientFactory: LanguageClientFactory,\n        @multiInject(DiagramManagerProvider) protected diagramManagerProviders: DiagramManagerProvider[]) {\n        super(workspace, languages, languageClientFactory);\n    }\n\n    waitForActivation(app: FrontendApplication): Promise<any> {\n        return Promise.race([\n            super.waitForActivation(app),\n            this.waitForOpenDiagrams()\n        ]);\n    }\n\n    protected waitForOpenDiagrams(): Promise<any> {\n        return Promise.race(this.diagramManagerProviders.map(diagramManagerProvider => {\n            return diagramManagerProvider().then(diagramManager => {\n                return new Promise<void>((resolve) => {\n                    const disposable = diagramManager.onCreated((widget) => {\n                        disposable.dispose();\n                        resolve();\n                    });\n                });\n            });\n        }));\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ApplicationShell } from '@theia/core/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { EditorManager } from '@theia/editor/lib/browser';\nimport { ILanguageClient, LanguageClientContribution, Location, NotificationType } from '@theia/languages/lib/browser';\nimport { inject, injectable } from 'inversify';\nimport { ActionMessage } from 'sprotty';\nimport { DiagramWidget } from '../diagram-widget';\n\nexport interface ActionMessageReceiver {\n    onMessageReceived(message: ActionMessage): void\n}\n\nexport interface OpenInTextEditorMessage {\n    location: Location\n    forceOpen: boolean\n}\n\nconst acceptMessageType = new NotificationType<ActionMessage, void>('diagram/accept');\nconst didCloseMessageType = new NotificationType<string, void>('diagram/didClose');\nconst openInTextEditorMessageType = new NotificationType<OpenInTextEditorMessage, void>('diagram/openInTextEditor');\n\n@injectable()\nexport class DiagramLanguageClient {\n\n    actionMessageReceivers: ActionMessageReceiver[] = [];\n\n    @inject(ApplicationShell) readonly shell: ApplicationShell;\n\n    constructor(readonly languageClientContribution: LanguageClientContribution,\n                readonly editorManager: EditorManager) {\n        this.languageClientContribution.languageClient.then(\n            lc => {\n                lc.onNotification(acceptMessageType, this.onMessageReceived.bind(this));\n                lc.onNotification(openInTextEditorMessageType, this.openInTextEditor.bind(this));\n            }\n        ).catch(\n            err => console.error(err)\n        );\n    }\n\n    openInTextEditor(message: OpenInTextEditorMessage) {\n        const uri = new URI(message.location.uri);\n        if (!message.forceOpen) {\n            this.editorManager.all.forEach(editorWidget => {\n                const currentTextEditor = editorWidget.editor;\n                if (editorWidget.isVisible && uri.toString(true) === currentTextEditor.uri.toString(true)) {\n                    currentTextEditor.cursor = message.location.range.start;\n                    currentTextEditor.revealRange(message.location.range);\n                    currentTextEditor.selection = message.location.range;\n                }\n            });\n        } else {\n            const widgetOptions: ApplicationShell.WidgetOptions = {\n                area: 'main'\n            };\n            const activeWidget = this.shell.activeWidget;\n            if (activeWidget instanceof DiagramWidget) {\n                widgetOptions.ref = activeWidget;\n                widgetOptions.mode = 'open-to-left';\n            }\n            this.editorManager.open(uri, { widgetOptions }).then(\n                editorWidget => {\n                    const editor = editorWidget.editor;\n                    editor.cursor = message.location.range.start;\n                    editor.revealRange(message.location.range);\n                    editor.selection = message.location.range;\n                });\n        }\n    }\n\n    sendThroughLsp(message: ActionMessage) {\n        this.languageClientContribution.languageClient.then(lc =>\n            lc.onReady().then(() =>\n                lc.sendNotification(acceptMessageType, message)\n            )\n        );\n    }\n\n    onMessageReceived(message: ActionMessage) {\n        this.actionMessageReceivers.forEach(client => {\n            client.onMessageReceived(message);\n        });\n    }\n\n    get languageClient(): Promise<ILanguageClient> {\n        return this.languageClientContribution.languageClient;\n    }\n\n    didClose(clientId: string) {\n        this.languageClientContribution.languageClient.then(lc => lc.sendNotification(didCloseMessageType, clientId));\n    }\n\n    connect(client: ActionMessageReceiver)Â {\n        this.actionMessageReceivers.push(client);\n    }\n\n    disconnect(client: ActionMessageReceiver) {\n        const index = this.actionMessageReceivers.indexOf(client);\n        if (index >= 0) {\n            this.actionMessageReceivers.splice(index);\n        }\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './diagram-language-client';\nexport * from './diagram-language-client-contribution';\nexport * from './ls-diagram-contributions';\nexport * from './ls-diagram-module';\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { CommandContribution, CommandRegistry } from \"@theia/core\";\nimport { ApplicationShell, KeybindingContribution, KeybindingRegistry } from \"@theia/core/lib/browser\";\nimport { inject, injectable } from \"inversify\";\nimport { DeleteWithWorkspaceEditAction } from \"../../sprotty/languageserver/delete\";\nimport { DiagramCommandHandler, DiagramCommands } from \"../diagram-commands\";\nimport { DiagramKeybindingContext } from \"../diagram-keybinding\";\nimport { DiagramWidget } from \"../diagram-widget\";\nimport { LSTheiaSprottyConnector } from \"../../sprotty/languageserver/ls-theia-sprotty-connector\";\n\n@injectable()\nexport class LSDiagramCommandContribution implements CommandContribution {\n\n    @inject(ApplicationShell) protected readonly shell: ApplicationShell;\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand({\n            id: DiagramCommands.DELETE,\n            label: 'Delete selected'\n        });\n        registry.registerHandler(\n            DiagramCommands.DELETE,\n            new DiagramCommandHandler(this.shell, widget => {\n                if (widget instanceof DiagramWidget) {\n                    const workspace = widget.connector instanceof LSTheiaSprottyConnector ? widget.connector.workspace : undefined;\n                    if (workspace) {\n                        const action = new DeleteWithWorkspaceEditAction(workspace, widget.uri.toString(true));\n                        widget.actionDispatcher.dispatch(action);\n                    }\n                }\n            })\n        );\n    }\n}\n\n@injectable()\nexport class LSDiagramKeybindingContribution implements KeybindingContribution {\n\n    @inject(DiagramKeybindingContext) protected readonly diagramKeybindingContext: DiagramKeybindingContext;\n\n    registerKeybindings(registry: KeybindingRegistry): void {\n        registry.registerKeybinding({\n            command: DiagramCommands.DELETE,\n            context: this.diagramKeybindingContext.id,\n            keybinding: 'del'\n        });\n        registry.registerKeybinding({\n            command: DiagramCommands.DELETE,\n            context: this.diagramKeybindingContext.id,\n            keybinding: 'backspace'\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { KeybindingContribution } from '@theia/core/lib/browser';\nimport { CommandContribution } from '@theia/core/lib/common';\nimport { ContainerModule } from 'inversify';\nimport { LSDiagramCommandContribution, LSDiagramKeybindingContribution } from './ls-diagram-contributions';\n\n/**\n * Standard DI config for languageserver aware diagrams.\n */\nexport default new ContainerModule(bind => {\n    bind(CommandContribution).to(LSDiagramCommandContribution).inSingletonScope();\n    bind(KeybindingContribution).to(LSDiagramKeybindingContribution).inSingletonScope();\n});\n","\nvar content = require(\"!!../../css-loader/index.js!./sprotty.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../css-loader/index.js!./sprotty.css\", function() {\n\t\tvar newContent = require(\"!!../../css-loader/index.js!./sprotty.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}